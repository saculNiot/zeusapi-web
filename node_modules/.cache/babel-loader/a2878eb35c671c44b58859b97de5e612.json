{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nconst isServer = typeof window === 'undefined';\n\nclass _class extends _react.Component {\n  constructor(props) {\n    super(props);\n\n    this.emitChange = () => {\n      if (this._hasHeadManager) {\n        this.props.headManager.updateHead(this.props.reduceComponentsToState([...this.props.headManager.mountedInstances], this.props));\n      }\n    };\n\n    this._hasHeadManager = this.props.headManager && this.props.headManager.mountedInstances;\n\n    if (isServer && this._hasHeadManager) {\n      this.props.headManager.mountedInstances.add(this);\n      this.emitChange();\n    }\n  }\n\n  componentDidMount() {\n    if (this._hasHeadManager) {\n      this.props.headManager.mountedInstances.add(this);\n    }\n\n    this.emitChange();\n  }\n\n  componentDidUpdate() {\n    this.emitChange();\n  }\n\n  componentWillUnmount() {\n    if (this._hasHeadManager) {\n      this.props.headManager.mountedInstances.delete(this);\n    }\n\n    this.emitChange();\n  }\n\n  render() {\n    return null;\n  }\n\n}\n\nexports.default = _class;","map":{"version":3,"sources":["../../../shared/lib/side-effect.tsx"],"names":["isServer","window","Component","emitChange","_hasHeadManager","props","headManager","updateHead","reduceComponentsToState","mountedInstances","add","componentDidMount","componentDidUpdate","componentWillUnmount","delete","render"],"mappings":";;;;;;;AAAiC,IAAA,MAAO,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAP;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEjC,MAAMA,QAAQ,GAAG,OAAOC,MAAP,KAAkB,WAAnC;;qBAc6BC,MAAS,CAAA,S,CAAA;cAcxBG,K,EAAY;AACtB,UAAMA,KAAN;;AAfW,SAGbF,UAHa,GAGH,MAAe;AACvB,UAAI,KAAKC,eAAT,EAA0B;AACxB,aAAKC,KAAL,CAAWC,WAAX,CAAuBC,UAAvB,CACE,KAAKF,KAAL,CAAWG,uBAAX,CACE,C,GAAI,KAAKH,KAAL,CAAWC,WAAX,CAAuBG,gBAA3B,CADF,EAEE,KAAKJ,KAFP,CADF;AAMD;AACF,KAZY;;AAgBX,SAAKD,eAAL,GACE,KAAKC,KAAL,CAAWC,WAAX,IAA0B,KAAKD,KAAL,CAAWC,WAAX,CAAuBG,gBADnD;;AAGA,QAAIT,QAAQ,IAAI,KAAKI,eAArB,EAAsC;AACpC,WAAKC,KAAL,CAAWC,WAAX,CAAuBG,gBAAvB,CAAwCC,GAAxC,CAA4C,IAA5C;AACA,WAAKP,UAAL;AACD;AACF;;AACDQ,EAAAA,iBAAiB,GAAG;AAClB,QAAI,KAAKP,eAAT,EAA0B;AACxB,WAAKC,KAAL,CAAWC,WAAX,CAAuBG,gBAAvB,CAAwCC,GAAxC,CAA4C,IAA5C;AACD;;AACD,SAAKP,UAAL;AACD;;AACDS,EAAAA,kBAAkB,GAAG;AACnB,SAAKT,UAAL;AACD;;AACDU,EAAAA,oBAAoB,GAAG;AACrB,QAAI,KAAKT,eAAT,EAA0B;AACxB,WAAKC,KAAL,CAAWC,WAAX,CAAuBG,gBAAvB,CAAwCK,MAAxC,CAA+C,IAA/C;AACD;;AACD,SAAKX,UAAL;AACD;;AAEDY,EAAAA,MAAM,GAAG;AACP,WAAO,IAAP;AACD;;AA1CmC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};\n        if (obj != null) {\n            for(var key in obj){\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n                    if (desc.get || desc.set) {\n                        Object.defineProperty(newObj, key, desc);\n                    } else {\n                        newObj[key] = obj[key];\n                    }\n                }\n            }\n        }\n        newObj.default = obj;\n        return newObj;\n    }\n}\nconst isServer = typeof window === 'undefined';\nclass _class extends _react.Component {\n    constructor(props){\n        super(props);\n        this.emitChange = ()=>{\n            if (this._hasHeadManager) {\n                this.props.headManager.updateHead(this.props.reduceComponentsToState([\n                    ...this.props.headManager.mountedInstances\n                ], this.props));\n            }\n        };\n        this._hasHeadManager = this.props.headManager && this.props.headManager.mountedInstances;\n        if (isServer && this._hasHeadManager) {\n            this.props.headManager.mountedInstances.add(this);\n            this.emitChange();\n        }\n    }\n    componentDidMount() {\n        if (this._hasHeadManager) {\n            this.props.headManager.mountedInstances.add(this);\n        }\n        this.emitChange();\n    }\n    componentDidUpdate() {\n        this.emitChange();\n    }\n    componentWillUnmount() {\n        if (this._hasHeadManager) {\n            this.props.headManager.mountedInstances.delete(this);\n        }\n        this.emitChange();\n    }\n    render() {\n        return null;\n    }\n}\nexports.default = _class;\n\n//# sourceMappingURL=side-effect.js.map"]},"metadata":{},"sourceType":"script"}