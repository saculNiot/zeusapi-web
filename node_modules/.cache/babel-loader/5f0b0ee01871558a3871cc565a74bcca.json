{"ast":null,"code":"var _jsxFileName = \"/Users/gohshengyang/Documents/GitHub/zeusapi-web/src/utils/components.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport { Button, Card, Col, Form, Input, PageHeader, Row, Space, Spin } from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport Title from \"antd/lib/typography/Title\";\nimport \"./components.less\";\nimport { AuthContext } from \"./AuthContext\";\nimport { RoutePath } from \"./routePath\";\nimport { PaymentRepo } from \"../services/api/repositories/payment_repo\";\nimport PhoneInput from \"react-phone-number-input\";\nimport \"react-phone-number-input/style.css\";\nimport { useState } from \"react\";\nimport { LocalStorage } from \"./localStorage\";\nimport mixpanel from \"mixpanel-browser\";\nimport { FirebaseServices } from \"./firebaseServices\";\nimport { FormLabel } from \"@chakra-ui/react\";\nimport { ThunderboltTwoTone } from \"@ant-design/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const BackHeader = ({\n  title\n}) => {\n  _s();\n\n  let history = useHistory();\n\n  function goBack() {\n    // Navigate to previous page\n    history.goBack();\n  }\n\n  return /*#__PURE__*/_jsxDEV(PageHeader, {\n    className: \"site-page-header\",\n    ghost: false,\n    onBack: () => goBack(),\n    title: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }, this);\n};\n\n_s(BackHeader, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = BackHeader;\nexport const EmailField = ({}) => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n      children: \"Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this), \" \", /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"email\",\n      rules: [{\n        type: \"email\",\n        message: \"The input is not valid E-mail!\"\n      }, {\n        required: true,\n        message: \"Please input your E-mail!\"\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_c2 = EmailField;\nexport const PasswordField = ({\n  enabled\n}) => {\n  //If true, then the min 6 validator is enabled\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n      children: \"Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"password\",\n      rules: enabled ? [{\n        required: true,\n        message: \"Please input your password!\"\n      }, {\n        min: 6,\n        message: \"Password must be minimum 6 characters.\"\n      }] : [{\n        required: true,\n        message: \"Please input your password!\"\n      }],\n      hasFeedback: true,\n      children: /*#__PURE__*/_jsxDEV(Input.Password, {\n        style: {\n          width: \"100%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_c3 = PasswordField;\nexport const ConfirmPasswordField = ({}) => {\n  return /*#__PURE__*/_jsxDEV(Form.Item, {\n    name: \"confirm\",\n    label: \"Confirm Password\",\n    dependencies: [\"password\"],\n    hasFeedback: true,\n    rules: [{\n      required: true,\n      message: \"Please confirm your password!\"\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(_, value) {\n        if (!value || getFieldValue(\"password\") === value) {\n          return Promise.resolve();\n        }\n\n        return Promise.reject(new Error(\"The two passwords that you entered do not match!\"));\n      }\n\n    })],\n    children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 3\n  }, this);\n}; // Form Button is without the form.item\n\n_c4 = ConfirmPasswordField;\nexport const FormButton = ({\n  title,\n  isLoading\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Button, {\n      icon: /*#__PURE__*/_jsxDEV(ThunderboltTwoTone, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 12\n      }, this),\n      shape: \"round\",\n      size: \"large\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 3\n  }, this);\n};\n_c5 = FormButton;\n// Pricing cards\nexport const PricingCards = ({\n  active\n}) => {\n  _s2();\n\n  let paymentRepo = new PaymentRepo();\n  let history = useHistory(); // Get current sign in User\n\n  const user = useContext(AuthContext);\n  const [isBtnLoading, setBtnLoading] = useState(false);\n  const colorActive = {\n    border: \"2px solid #000000\",\n    backgroundColor: \"#D3D3D3\"\n  };\n  const color = {\n    backgroundColor: \"#fff\"\n  };\n\n  const checkIfActiveColor = key => {\n    if (active === undefined) {\n      return color;\n    } else {\n      if (active) return key === active ? colorActive : color;\n    }\n  };\n\n  const buttonActive = {\n    disabled: true\n  };\n  const button = {\n    disabled: false\n  };\n\n  const checkIfActiveBtn = key => {\n    if (active === undefined) {\n      return button;\n    } else {\n      if (active) return key === active ? buttonActive : button;\n    }\n  };\n\n  const checkIfActiveBtnText = key => {\n    if (active === undefined) {\n      return \"Select\";\n    } else {\n      if (active) return key === active ? \"Currently Selected\" : \"Select\";\n    }\n  };\n\n  const productList = [{\n    id: \"001\",\n    // Free plan has no stripe product id\n    key: \"free\",\n    name: \"Free\",\n    description: \"No cards required\",\n    secondaryDescription: \"\",\n    price: 0,\n    priceTag: \"$0 USD/mo\",\n    btnText: \"Select\",\n    features: [\"Max 5 users assignation per file\", \"Max 5 files created\", \"Max 3 reports per file\", \"Max 5 shared files\"]\n  }, {\n    id: \"prod_Kskj6UFUeFljfo\",\n    key: \"pro\",\n    name: \"Pro\",\n    description: \"More power for small teams who want better collaboration\",\n    secondaryDescription: \"All the goodness of Free Tier, and:\",\n    price: 5,\n    priceTag: \"$5 USD/mo\",\n    btnText: \"Select\",\n    features: [\"Max 15 users assignation per file\", \"Max 50 files created\", \"Max 10 reports per file\", \"Max 20 shared files\"]\n  }, {\n    id: \"prod_KuOG0aN13C29yi\",\n    key: \"enterprise\",\n    name: \"Enterprise\",\n    description: \"All the flexibility to meet your regulatory requirements and all the power to match your growth\",\n    secondaryDescription: \"All the greatness of Pro, and:\",\n    price: 15,\n    priceTag: \"$15 USD/mo\",\n    btnText: \"Select\",\n    features: [\"Max 30 users assignation per file\", \"Max 100 files created\", \"Unlimited reports per file\", \"Unlimited shared files\"]\n  }];\n\n  const navigate = async product => {\n    setBtnLoading(true);\n\n    if (user === null) {\n      // Proceed to login page\n      history.push(RoutePath.login);\n    } else {\n      // Go to email verification page if email not verified\n      if (!(user === null || user === void 0 ? void 0 : user.emailVerified)) {\n        history.push(RoutePath.email_verification);\n      } else {\n        // Call api to get the payment session url\n        let apiResult = null;\n        let currentPackagePlan = await LocalStorage.getPackagePlan(); // Go to billing page if the user wants to upgrade or downgrade the plan\n\n        if (product.key !== currentPackagePlan && currentPackagePlan !== \"free\") {\n          let userId = await LocalStorage.getUserID();\n          let email = await LocalStorage.getEmail();\n          apiResult = await paymentRepo.getCustomerPortalSessionUrl({\n            userId: userId,\n            email: email\n          });\n        } // Else go to checkout page\n        else {\n            apiResult = await paymentRepo.getCheckoutSessionUrl({\n              userId: \"userId\"\n            });\n          }\n\n        if (apiResult.isSuccess) {\n          // Proceed to checkout page if seesion url is retreived\n          // Replace the history\n          window.location.replace(apiResult.data[0].sessionUrl);\n        } else {\n          alert(apiResult.message);\n        }\n      }\n    }\n\n    setBtnLoading(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"pricing_row\",\n      children: productList.map(productList => /*#__PURE__*/_jsxDEV(Col, {\n        xs: 24,\n        xl: 8,\n        className: \"pricing_col\",\n        span: 8,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"pricing_content\",\n          style: checkIfActiveColor(productList.key),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pricing_content_title\",\n            children: [/*#__PURE__*/_jsxDEV(Title, {\n              className: \"site_desc\",\n              level: 3,\n              children: productList.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\" \", productList.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pricing_content_price\",\n            children: /*#__PURE__*/_jsxDEV(Title, {\n              className: \"site_desc\",\n              level: 3,\n              children: productList.priceTag\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pricing_content_nav\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              direction: \"vertical\",\n              children: [isBtnLoading ? /*#__PURE__*/_jsxDEV(Spin, {\n                size: \"large\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 11\n              }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                size: \"large\",\n                ghost: true,\n                onClick: () => navigate(productList),\n                ...checkIfActiveBtn(productList.key),\n                children: checkIfActiveBtnText(productList.key)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Title, {\n                className: \"site_desc\",\n                level: 5,\n                children: productList.secondaryDescription\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pricing_content_features\",\n            children: /*#__PURE__*/_jsxDEV(Space, {\n              direction: \"vertical\",\n              children: productList.features.map(features => /*#__PURE__*/_jsxDEV(\"p\", {\n                children: features\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 11\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 3\n  }, this);\n};\n\n_s2(PricingCards, \"dLE3PeNPQd19qg0D7jNhyBTuT9U=\", false, function () {\n  return [useHistory];\n});\n\n_c6 = PricingCards;\nexport const FormPhoneInput = ({\n  initialValue\n}) => {\n  _s3();\n\n  const [phoneNum, setPhoneNum] = useState();\n  return /*#__PURE__*/_jsxDEV(Form.Item, {\n    name: \"phone_number\",\n    label: \"Phone No\",\n    rules: [{\n      required: true,\n      message: \"Please input your phone number!\"\n    }],\n    children: /*#__PURE__*/_jsxDEV(PhoneInput, {\n      international: true,\n      defaultCountry: \"MY\",\n      countryCallingCodeEditable: false,\n      value: phoneNum,\n      onChange: value => setPhoneNum(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 3\n  }, this);\n};\n\n_s3(FormPhoneInput, \"pjW0Omwy6ZUxmQmhS+u26Uc3Q7A=\");\n\n_c7 = FormPhoneInput;\nexport const Suffix_Nav = [{\n  label: \"Your Account\",\n  onClick: () => {},\n  // To fulfill the interface\n  children: [{\n    key: 0,\n    label: \"Billing\",\n    subLabel: \"View your bill and usage analytic\",\n    onClick: async () => {\n      // Call api to get the payment session url\n      let userId = await LocalStorage.getUserID();\n      let email = await LocalStorage.getEmail();\n      let paymentRepo = new PaymentRepo();\n      let apiResult = await paymentRepo.getCustomerPortalSessionUrl({\n        userId: userId,\n        email: email\n      });\n\n      if (apiResult.isSuccess) {\n        // Proceed to checkout page if seesion url is retreived\n        // Replace the history\n        window.location.replace(apiResult.data[0].sessionUrl);\n        mixpanel.track(\"_View_Customer_Billing_Portal_Click\");\n      } else {\n        alert(apiResult.message);\n      }\n    }\n  }, {\n    key: 1,\n    label: \"Profile\",\n    subLabel: \"View and update your profile\",\n    onClick: (user, history) => {\n      history.push(RoutePath.user_profile);\n      mixpanel.track(\"Home_View_Profile_Click\");\n    }\n  }, {\n    key: 2,\n    label: \"Reset Password\",\n    subLabel: \"Change your password here\",\n    onClick: (user, history) => {\n      history.push(RoutePath.reset_password);\n      mixpanel.track(\"Home_View_Reset_Password_Click\");\n    }\n  }, {\n    key: 3,\n    label: \"Log Out\",\n    subLabel: \"See ya\",\n    onClick: async (user, history) => {\n      await FirebaseServices.signOut(); // Clear local storage\n\n      await LocalStorage.resetStorage();\n      mixpanel.track(\"Home_Execute_Log_Out_Click\");\n      mixpanel.reset();\n      history.replace(RoutePath.default);\n    }\n  }]\n}];\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"BackHeader\");\n$RefreshReg$(_c2, \"EmailField\");\n$RefreshReg$(_c3, \"PasswordField\");\n$RefreshReg$(_c4, \"ConfirmPasswordField\");\n$RefreshReg$(_c5, \"FormButton\");\n$RefreshReg$(_c6, \"PricingCards\");\n$RefreshReg$(_c7, \"FormPhoneInput\");","map":{"version":3,"sources":["/Users/gohshengyang/Documents/GitHub/zeusapi-web/src/utils/components.tsx"],"names":["React","useContext","Button","Card","Col","Form","Input","PageHeader","Row","Space","Spin","useHistory","Title","AuthContext","RoutePath","PaymentRepo","PhoneInput","useState","LocalStorage","mixpanel","FirebaseServices","FormLabel","ThunderboltTwoTone","BackHeader","title","history","goBack","EmailField","type","message","required","PasswordField","enabled","min","width","ConfirmPasswordField","getFieldValue","validator","_","value","Promise","resolve","reject","Error","FormButton","isLoading","PricingCards","active","paymentRepo","user","isBtnLoading","setBtnLoading","colorActive","border","backgroundColor","color","checkIfActiveColor","key","undefined","buttonActive","disabled","button","checkIfActiveBtn","checkIfActiveBtnText","productList","id","name","description","secondaryDescription","price","priceTag","btnText","features","navigate","product","push","login","emailVerified","email_verification","apiResult","currentPackagePlan","getPackagePlan","userId","getUserID","email","getEmail","getCustomerPortalSessionUrl","getCheckoutSessionUrl","isSuccess","window","location","replace","data","sessionUrl","alert","map","FormPhoneInput","initialValue","phoneNum","setPhoneNum","Suffix_Nav","label","onClick","children","subLabel","track","user_profile","reset_password","signOut","resetStorage","reset","default"],"mappings":"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","sourcesContent":["import React, { forwardRef, useCallback, useContext } from \"react\";\nimport {\n\tButton,\n\tCard,\n\tCol,\n\tForm,\n\tInput,\n\tPageHeader,\n\tRow,\n\tSpace,\n\tSpin,\n} from \"antd\";\nimport { useHistory } from \"react-router-dom\";\nimport Title from \"antd/lib/typography/Title\";\nimport \"./components.less\";\nimport { AuthContext } from \"./AuthContext\";\nimport { RoutePath } from \"./routePath\";\nimport { PaymentRepo } from \"../services/api/repositories/payment_repo\";\nimport PhoneInput from \"react-phone-number-input\";\nimport \"react-phone-number-input/style.css\";\nimport { useState } from \"react\";\nimport { LocalStorage } from \"./localStorage\";\nimport { Response } from \"../services/response\";\nimport mixpanel from \"mixpanel-browser\";\nimport { FirebaseServices } from \"./firebaseServices\";\nimport { FormLabel } from \"@chakra-ui/react\";\nimport { ThunderboltTwoTone } from \"@ant-design/icons\";\n\ninterface ComponentProps {\n\ttitle?: string;\n\tisLoading?: boolean; // To identify if the component is in loading state\n\tenabled?: boolean; // To identify if the component is enabled or some field of the component is enabled\n}\n\nexport const BackHeader: React.FC<ComponentProps> = ({ title }) => {\n\tlet history = useHistory();\n\tfunction goBack() {\n\t\t// Navigate to previous page\n\t\thistory.goBack();\n\t}\n\treturn (\n\t\t<PageHeader\n\t\t\tclassName=\"site-page-header\"\n\t\t\tghost={false}\n\t\t\tonBack={() => goBack()}\n\t\t\ttitle={title}\n\t\t/>\n\t);\n};\n\nexport const EmailField: React.FC<ComponentProps> = ({}) => {\n\treturn (\n\t\t<>\n\t\t\t<FormLabel>Email</FormLabel>{\" \"}\n\t\t\t<Form.Item\n\t\t\t\tname=\"email\"\n\t\t\t\trules={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: \"email\",\n\t\t\t\t\t\tmessage: \"The input is not valid E-mail!\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: \"Please input your E-mail!\",\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input type=\"email\" />\n\t\t\t</Form.Item>\n\t\t</>\n\t);\n};\n\nexport const PasswordField: React.FC<ComponentProps> = ({ enabled }) => {\n\t//If true, then the min 6 validator is enabled\n\treturn (\n\t\t<>\n\t\t\t<FormLabel>Password</FormLabel>\n\t\t\t<Form.Item\n\t\t\t\tname=\"password\"\n\t\t\t\trules={\n\t\t\t\t\tenabled\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: \"Please input your password!\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmin: 6,\n\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\"Password must be minimum 6 characters.\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\tmessage: \"Please input your password!\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t}\n\t\t\t\thasFeedback\n\t\t\t>\n\t\t\t\t<Input.Password style={{ width: \"100%\" }} />\n\t\t\t</Form.Item>\n\t\t</>\n\t);\n};\n\nexport const ConfirmPasswordField: React.FC<ComponentProps> = ({}) => {\n\treturn (\n\t\t<Form.Item\n\t\t\tname=\"confirm\"\n\t\t\tlabel=\"Confirm Password\"\n\t\t\tdependencies={[\"password\"]}\n\t\t\thasFeedback\n\t\t\trules={[\n\t\t\t\t{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: \"Please confirm your password!\",\n\t\t\t\t},\n\t\t\t\t({ getFieldValue }) => ({\n\t\t\t\t\tvalidator(_, value) {\n\t\t\t\t\t\tif (!value || getFieldValue(\"password\") === value) {\n\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn Promise.reject(\n\t\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t\t\"The two passwords that you entered do not match!\"\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t]}\n\t\t>\n\t\t\t<Input.Password />\n\t\t</Form.Item>\n\t);\n};\n\n// Form Button is without the form.item\nexport const FormButton: React.FC<ComponentProps> = ({ title, isLoading }) => {\n\treturn (\n\t\t<div>\n\t\t\t{isLoading ? (\n\t\t\t\t<Spin size=\"large\" />\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\ticon={<ThunderboltTwoTone />}\n\t\t\t\t\tshape=\"round\"\n\t\t\t\t\tsize=\"large\"\n\t\t\t\t>\n\t\t\t\t\t{title}\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</div>\n\t);\n};\ninterface PricingProps {\n\tactive?: string; // The pricing tier that the user currently at\n}\n// Pricing cards\nexport const PricingCards: React.FC<PricingProps> = ({ active }) => {\n\tlet paymentRepo = new PaymentRepo();\n\n\tlet history = useHistory();\n\n\t// Get current sign in User\n\tconst user = useContext(AuthContext);\n\n\tconst [isBtnLoading, setBtnLoading] = useState(false);\n\n\tconst colorActive = {\n\t\tborder: \"2px solid #000000\",\n\t\tbackgroundColor: \"#D3D3D3\",\n\t};\n\tconst color = {\n\t\tbackgroundColor: \"#fff\",\n\t};\n\n\tconst checkIfActiveColor = (key: string) => {\n\t\tif (active === undefined) {\n\t\t\treturn color;\n\t\t} else {\n\t\t\tif (active) return key === active ? colorActive : color;\n\t\t}\n\t};\n\n\tconst buttonActive = {\n\t\tdisabled: true,\n\t};\n\n\tconst button = {\n\t\tdisabled: false,\n\t};\n\n\tconst checkIfActiveBtn = (key: string) => {\n\t\tif (active === undefined) {\n\t\t\treturn button;\n\t\t} else {\n\t\t\tif (active) return key === active ? buttonActive : button;\n\t\t}\n\t};\n\n\tconst checkIfActiveBtnText = (key: string) => {\n\t\tif (active === undefined) {\n\t\t\treturn \"Select\";\n\t\t} else {\n\t\t\tif (active) return key === active ? \"Currently Selected\" : \"Select\";\n\t\t}\n\t};\n\n\tconst productList = [\n\t\t{\n\t\t\tid: \"001\", // Free plan has no stripe product id\n\t\t\tkey: \"free\",\n\t\t\tname: \"Free\",\n\t\t\tdescription: \"No cards required\",\n\t\t\tsecondaryDescription: \"\",\n\t\t\tprice: 0,\n\t\t\tpriceTag: \"$0 USD/mo\",\n\t\t\tbtnText: \"Select\",\n\t\t\tfeatures: [\n\t\t\t\t\"Max 5 users assignation per file\",\n\t\t\t\t\"Max 5 files created\",\n\t\t\t\t\"Max 3 reports per file\",\n\t\t\t\t\"Max 5 shared files\",\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tid: \"prod_Kskj6UFUeFljfo\",\n\t\t\tkey: \"pro\",\n\t\t\tname: \"Pro\",\n\t\t\tdescription:\n\t\t\t\t\"More power for small teams who want better collaboration\",\n\t\t\tsecondaryDescription: \"All the goodness of Free Tier, and:\",\n\t\t\tprice: 5,\n\t\t\tpriceTag: \"$5 USD/mo\",\n\t\t\tbtnText: \"Select\",\n\t\t\tfeatures: [\n\t\t\t\t\"Max 15 users assignation per file\",\n\t\t\t\t\"Max 50 files created\",\n\t\t\t\t\"Max 10 reports per file\",\n\t\t\t\t\"Max 20 shared files\",\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tid: \"prod_KuOG0aN13C29yi\",\n\t\t\tkey: \"enterprise\",\n\t\t\tname: \"Enterprise\",\n\t\t\tdescription:\n\t\t\t\t\"All the flexibility to meet your regulatory requirements and all the power to match your growth\",\n\t\t\tsecondaryDescription: \"All the greatness of Pro, and:\",\n\t\t\tprice: 15,\n\t\t\tpriceTag: \"$15 USD/mo\",\n\t\t\tbtnText: \"Select\",\n\t\t\tfeatures: [\n\t\t\t\t\"Max 30 users assignation per file\",\n\t\t\t\t\"Max 100 files created\",\n\t\t\t\t\"Unlimited reports per file\",\n\t\t\t\t\"Unlimited shared files\",\n\t\t\t],\n\t\t},\n\t];\n\n\tconst navigate = async (product: { id: string; key: string }) => {\n\t\tsetBtnLoading(true);\n\t\tif (user === null) {\n\t\t\t// Proceed to login page\n\t\t\thistory.push(RoutePath.login);\n\t\t} else {\n\t\t\t// Go to email verification page if email not verified\n\t\t\tif (!user?.emailVerified) {\n\t\t\t\thistory.push(RoutePath.email_verification);\n\t\t\t} else {\n\t\t\t\t// Call api to get the payment session url\n\t\t\t\tlet apiResult = null;\n\t\t\t\tlet currentPackagePlan = await LocalStorage.getPackagePlan();\n\n\t\t\t\t// Go to billing page if the user wants to upgrade or downgrade the plan\n\t\t\t\tif (\n\t\t\t\t\tproduct.key !== currentPackagePlan &&\n\t\t\t\t\tcurrentPackagePlan !== \"free\"\n\t\t\t\t) {\n\t\t\t\t\tlet userId = await LocalStorage.getUserID();\n\t\t\t\t\tlet email = await LocalStorage.getEmail();\n\n\t\t\t\t\tapiResult = await paymentRepo.getCustomerPortalSessionUrl({\n\t\t\t\t\t\tuserId: userId!,\n\t\t\t\t\t\temail: email!,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t// Else go to checkout page\n\t\t\t\telse {\n\t\t\t\t\tapiResult = await paymentRepo.getCheckoutSessionUrl({\n\t\t\t\t\t\tuserId: \"userId\",\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (apiResult.isSuccess) {\n\t\t\t\t\t// Proceed to checkout page if seesion url is retreived\n\t\t\t\t\t// Replace the history\n\t\t\t\t\twindow.location.replace(apiResult.data[0].sessionUrl);\n\t\t\t\t} else {\n\t\t\t\t\talert(apiResult.message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetBtnLoading(false);\n\t};\n\treturn (\n\t\t<div>\n\t\t\t<Row className=\"pricing_row\">\n\t\t\t\t{productList.map((productList) => (\n\t\t\t\t\t<Col xs={24} xl={8} className=\"pricing_col\" span={8}>\n\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\tclassName=\"pricing_content\"\n\t\t\t\t\t\t\tstyle={checkIfActiveColor(productList.key)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"pricing_content_title\">\n\t\t\t\t\t\t\t\t<Title className=\"site_desc\" level={3}>\n\t\t\t\t\t\t\t\t\t{productList.name}\n\t\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t\t\t<p> {productList.description}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"pricing_content_price\">\n\t\t\t\t\t\t\t\t<Title className=\"site_desc\" level={3}>\n\t\t\t\t\t\t\t\t\t{productList.priceTag}\n\t\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"pricing_content_nav\">\n\t\t\t\t\t\t\t\t<Space direction=\"vertical\">\n\t\t\t\t\t\t\t\t\t{isBtnLoading ? (\n\t\t\t\t\t\t\t\t\t\t<Spin size=\"large\" />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\t\tghost\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tnavigate(productList)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t{...checkIfActiveBtn(\n\t\t\t\t\t\t\t\t\t\t\t\tproductList.key\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{checkIfActiveBtnText(\n\t\t\t\t\t\t\t\t\t\t\t\tproductList.key\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<Title className=\"site_desc\" level={5}>\n\t\t\t\t\t\t\t\t\t\t{productList.secondaryDescription}\n\t\t\t\t\t\t\t\t\t</Title>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"pricing_content_features\">\n\t\t\t\t\t\t\t\t<Space direction=\"vertical\">\n\t\t\t\t\t\t\t\t\t{productList.features.map((features) => (\n\t\t\t\t\t\t\t\t\t\t<p>{features}</p>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Col>\n\t\t\t\t))}\n\t\t\t</Row>\n\t\t</div>\n\t);\n};\n\ninterface PhoneNumInputProps {\n\tinitialValue?: any;\n}\n\nexport const FormPhoneInput: React.FC<PhoneNumInputProps> = ({\n\tinitialValue,\n}) => {\n\tconst [phoneNum, setPhoneNum] = useState<any>();\n\n\treturn (\n\t\t<Form.Item\n\t\t\tname=\"phone_number\"\n\t\t\tlabel=\"Phone No\"\n\t\t\trules={[\n\t\t\t\t{\n\t\t\t\t\trequired: true,\n\t\t\t\t\tmessage: \"Please input your phone number!\",\n\t\t\t\t},\n\t\t\t]}\n\t\t>\n\t\t\t<PhoneInput\n\t\t\t\tinternational\n\t\t\t\tdefaultCountry=\"MY\"\n\t\t\t\tcountryCallingCodeEditable={false}\n\t\t\t\tvalue={phoneNum}\n\t\t\t\tonChange={(value) => setPhoneNum(value)}\n\t\t\t/>\n\t\t</Form.Item>\n\t);\n};\n\ninterface NavItem {\n\tkey?: number;\n\tlabel: string;\n\tsubLabel?: string;\n\tchildren?: Array<NavItem>;\n\tonClick: (user: any, history: any) => void;\n}\n\nexport const Suffix_Nav: Array<NavItem> = [\n\t{\n\t\tlabel: \"Your Account\",\n\t\tonClick: () => {}, // To fulfill the interface\n\t\tchildren: [\n\t\t\t{\n\t\t\t\tkey: 0,\n\t\t\t\tlabel: \"Billing\",\n\t\t\t\tsubLabel: \"View your bill and usage analytic\",\n\t\t\t\tonClick: async () => {\n\t\t\t\t\t// Call api to get the payment session url\n\t\t\t\t\tlet userId = await LocalStorage.getUserID();\n\t\t\t\t\tlet email = await LocalStorage.getEmail();\n\n\t\t\t\t\tlet paymentRepo = new PaymentRepo();\n\t\t\t\t\tlet apiResult =\n\t\t\t\t\t\tawait paymentRepo.getCustomerPortalSessionUrl({\n\t\t\t\t\t\t\tuserId: userId!,\n\t\t\t\t\t\t\temail: email!,\n\t\t\t\t\t\t});\n\n\t\t\t\t\tif (apiResult.isSuccess) {\n\t\t\t\t\t\t// Proceed to checkout page if seesion url is retreived\n\t\t\t\t\t\t// Replace the history\n\t\t\t\t\t\twindow.location.replace(apiResult.data[0].sessionUrl);\n\t\t\t\t\t\tmixpanel.track(\"_View_Customer_Billing_Portal_Click\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert(apiResult.message);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 1,\n\t\t\t\tlabel: \"Profile\",\n\t\t\t\tsubLabel: \"View and update your profile\",\n\t\t\t\tonClick: (user: any, history: any) => {\n\t\t\t\t\thistory.push(RoutePath.user_profile);\n\t\t\t\t\tmixpanel.track(\"Home_View_Profile_Click\");\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 2,\n\t\t\t\tlabel: \"Reset Password\",\n\t\t\t\tsubLabel: \"Change your password here\",\n\t\t\t\tonClick: (user: any, history: any) => {\n\t\t\t\t\thistory.push(RoutePath.reset_password);\n\t\t\t\t\tmixpanel.track(\"Home_View_Reset_Password_Click\");\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 3,\n\t\t\t\tlabel: \"Log Out\",\n\t\t\t\tsubLabel: \"See ya\",\n\t\t\t\tonClick: async (user: any, history: any) => {\n\t\t\t\t\tawait FirebaseServices.signOut();\n\t\t\t\t\t// Clear local storage\n\t\t\t\t\tawait LocalStorage.resetStorage();\n\t\t\t\t\tmixpanel.track(\"Home_Execute_Log_Out_Click\");\n\t\t\t\t\tmixpanel.reset();\n\t\t\t\t\thistory.replace(RoutePath.default);\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t},\n];\n"]},"metadata":{},"sourceType":"module"}