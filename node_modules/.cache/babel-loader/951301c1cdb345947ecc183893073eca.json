{"ast":null,"code":"var _jsxFileName = \"/Users/gohshengyang/Documents/GitHub/zeusapi-web/src/pages/client/ClientList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Layout, Row, Col, message, Skeleton, Table } from \"antd\";\nimport { AuthContext } from \"../../utils/AuthContext\";\nimport { LocalStorage } from \"../../utils/localStorage\";\nimport { UserRepo } from \"../../services/api/repositories/user_repo\";\nimport { ClientRepo } from \"../../services/api/repositories/client_repo\";\nimport { RoleRepo } from \"../../services/api/repositories/role_repo\";\nimport { RelationshipRepo } from \"../../services/api/repositories/relationship_repo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ClientList = () => {\n  _s();\n\n  let clientRepo = new ClientRepo();\n  let userRepo = new UserRepo();\n  let roleRepo = new RoleRepo();\n  let relationshipRepo = new RelationshipRepo();\n  let location = useLocation();\n  let history = useHistory();\n  const locationState = location.state; // Get current sign in User\n\n  const user = useContext(AuthContext); // Handle the state of each option in Menu bar\n\n  const [_viewTitle, setViewTitle] = useState(\"Clients\");\n  const [_viewList, setViewList] = useState([]);\n  const [_listLoading, setListLoading] = useState(true);\n\n  async function getClient() {\n    setViewList([]);\n    let apiResult = await clientRepo.getClientById({\n      clientId: locationState.clientId\n    });\n\n    if (apiResult.isSuccess) {\n      console.log(apiResult.data[0]);\n      apiResult.data[0].roles.map(item => {\n        return {\n          key: item.roleId,\n          name: item.name,\n          createdDateTime: item.createdDateTime\n        };\n      });\n      if (apiResult.data[0].roles.length > 0) apiResult.data[0].roles.forEach(element => {\n        setViewList(prevState => {\n          return [...prevState, element];\n        });\n      });\n    }\n\n    setListLoading(false);\n  }\n\n  async function getRoles() {\n    setViewList([]);\n    let userId = await LocalStorage.getUserID();\n    let apiResult = await roleRepo.getAllRoles({\n      userId: userId\n    });\n\n    if (apiResult.isSuccess) {\n      if (apiResult.data.length > 0) apiResult.data.forEach(element => {\n        setViewList(prevState => {\n          return [...prevState, element];\n        });\n      });\n    }\n\n    setListLoading(false);\n  }\n\n  async function deleteClient(clientId) {\n    let apiResult = await clientRepo.deleteClient({\n      clientId: clientId\n    });\n\n    if (apiResult.isSuccess) {\n      setListLoading(true);\n      getClient();\n      message.success(\"Delete client success\");\n    } else {\n      message.success(\"Delete Fail\");\n    }\n\n    setListLoading(false);\n  }\n\n  async function deleteRole(roleId) {\n    let apiResult = await roleRepo.deleteRole({\n      roleId: roleId\n    });\n\n    if (apiResult.isSuccess) {\n      setListLoading(true);\n      getRoles();\n      message.success(\"Delete role success\");\n    } else {\n      message.success(\"Delete Fail\");\n    }\n\n    setListLoading(false);\n  }\n\n  async function deleteRelationship(clientRoleRelId) {\n    let apiResult = await relationshipRepo.deleteRelationship({\n      clientRoleRelId: clientRoleRelId\n    });\n\n    if (apiResult.isSuccess) {\n      setListLoading(true);\n      message.success(\"Delete relationship success\");\n    } else {\n      message.success(\"Delete Fail\");\n    }\n\n    setListLoading(false);\n  }\n\n  useEffect(() => {\n    async function initState() {\n      let userId = await LocalStorage.getUserID();\n      let apiResult = await userRepo.getUserById({\n        userId: userId\n      });\n\n      if (apiResult.isSuccess) {\n        var _usermodel$email, _usermodel$username, _usermodel$packagePla;\n\n        let usermodel = apiResult.data[0];\n        await LocalStorage.setEmail((_usermodel$email = usermodel === null || usermodel === void 0 ? void 0 : usermodel.email) !== null && _usermodel$email !== void 0 ? _usermodel$email : \"\");\n        await LocalStorage.setNickName((_usermodel$username = usermodel === null || usermodel === void 0 ? void 0 : usermodel.username) !== null && _usermodel$username !== void 0 ? _usermodel$username : \"\");\n        await LocalStorage.setPackagePlan((_usermodel$packagePla = usermodel === null || usermodel === void 0 ? void 0 : usermodel.packagePlan) !== null && _usermodel$packagePla !== void 0 ? _usermodel$packagePla : \"free\");\n      }\n    }\n\n    initState();\n    getClient();\n    return () => {\n      setViewTitle(\"\");\n      setViewList([]);\n      setListLoading(true);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"dashboard_row\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: 24,\n          xl: 6,\n          className: \"dashboard_col\",\n          span: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 24,\n          xl: 12,\n          className: \"dashboard_col\",\n          span: 12,\n          children: /*#__PURE__*/_jsxDEV(Skeleton, {\n            active: true,\n            loading: _listLoading,\n            children: [/*#__PURE__*/_jsxDEV(Table, {\n              dataSource: _viewList,\n              columns: [{\n                title: \"Name\",\n                dataIndex: \"name\",\n                key: \"name\"\n              }, {\n                title: \"Created Date\",\n                dataIndex: \"createdDateTime\",\n                key: \"createdDateTime\"\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 8\n            }, this), \";\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 24,\n          xl: 12,\n          className: \"dashboard_col\",\n          span: 6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(ClientList, \"ojLsXVsW1TzCVb8ZnTtnkZaKjNg=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = ClientList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClientList\");","map":{"version":3,"sources":["/Users/gohshengyang/Documents/GitHub/zeusapi-web/src/pages/client/ClientList.tsx"],"names":["React","useContext","useEffect","useState","useHistory","useLocation","Layout","Row","Col","message","Skeleton","Table","AuthContext","LocalStorage","UserRepo","ClientRepo","RoleRepo","RelationshipRepo","ClientList","clientRepo","userRepo","roleRepo","relationshipRepo","location","history","locationState","state","user","_viewTitle","setViewTitle","_viewList","setViewList","_listLoading","setListLoading","getClient","apiResult","getClientById","clientId","isSuccess","console","log","data","roles","map","item","key","roleId","name","createdDateTime","length","forEach","element","prevState","getRoles","userId","getUserID","getAllRoles","deleteClient","success","deleteRole","deleteRelationship","clientRoleRelId","initState","getUserById","usermodel","setEmail","email","setNickName","username","setPackagePlan","packagePlan","title","dataIndex"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport {\n\tButton,\n\tLayout,\n\tMenu,\n\tTypography,\n\tRow,\n\tCol,\n\tSpace,\n\tDivider,\n\tCard,\n\tList,\n\tAvatar,\n\tmessage,\n\tSkeleton,\n\tPopconfirm,\n\tSpin,\n\tTooltip,\n\tTable,\n} from \"antd\";\nimport { AuthContext } from \"../../utils/AuthContext\";\nimport { LocalStorage } from \"../../utils/localStorage\";\nimport { UserRepo } from \"../../services/api/repositories/user_repo\";\nimport { User } from \"../../services/api/models/user_model\";\nimport { ClientRepo } from \"../../services/api/repositories/client_repo\";\nimport { Client } from \"../../services/api/models/client_model\";\nimport { RoleRepo } from \"../../services/api/repositories/role_repo\";\nimport { RelationshipRepo } from \"../../services/api/repositories/relationship_repo\";\nimport { Role } from \"../../services/api/models/role_model\";\n\nexport const ClientList: React.FC<any> = () => {\n\tlet clientRepo = new ClientRepo();\n\n\tlet userRepo = new UserRepo();\n\n\tlet roleRepo = new RoleRepo();\n\n\tlet relationshipRepo = new RelationshipRepo();\n\n\tlet location = useLocation();\n\tlet history = useHistory();\n\tconst locationState: any = location.state;\n\n\t// Get current sign in User\n\tconst user = useContext(AuthContext);\n\n\t// Handle the state of each option in Menu bar\n\n\tconst [_viewTitle, setViewTitle] = useState<string>(\"Clients\");\n\n\tconst [_viewList, setViewList] = useState<Array<any>>([]);\n\n\tconst [_listLoading, setListLoading] = useState<boolean>(true);\n\n\tasync function getClient() {\n\t\tsetViewList([]);\n\n\t\tlet apiResult = await clientRepo.getClientById({\n\t\t\tclientId: locationState.clientId!,\n\t\t});\n\n\t\tif (apiResult.isSuccess) {\n            console.log(apiResult.data[0])\n\t\t\tapiResult.data[0].roles.map((item: Role) => {\n\t\t\t\treturn {\n                    key: item.roleId,\n\t\t\t\t\tname: item.name,\n\t\t\t\t\tcreatedDateTime: item.createdDateTime,\n\t\t\t\t};\n\t\t\t});\n\t\t\tif (apiResult.data[0].roles.length > 0)\n\t\t\t\tapiResult.data[0].roles.forEach((element: Role) => {\n\t\t\t\t\tsetViewList((prevState) => {\n\t\t\t\t\t\treturn [...prevState, element];\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\tsetListLoading(false);\n\t}\n\n\tasync function getRoles() {\n\t\tsetViewList([]);\n\t\tlet userId = await LocalStorage.getUserID();\n\t\tlet apiResult = await roleRepo.getAllRoles({\n\t\t\tuserId: userId!,\n\t\t});\n\n\t\tif (apiResult.isSuccess) {\n\t\t\tif (apiResult.data.length > 0)\n\t\t\t\tapiResult.data.forEach((element: Client) => {\n\t\t\t\t\tsetViewList((prevState) => {\n\t\t\t\t\t\treturn [...prevState, element];\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\tsetListLoading(false);\n\t}\n\n\tasync function deleteClient(clientId: string) {\n\t\tlet apiResult = await clientRepo.deleteClient({\n\t\t\tclientId: clientId!,\n\t\t});\n\t\tif (apiResult.isSuccess) {\n\t\t\tsetListLoading(true);\n\t\t\tgetClient();\n\t\t\tmessage.success(\"Delete client success\");\n\t\t} else {\n\t\t\tmessage.success(\"Delete Fail\");\n\t\t}\n\t\tsetListLoading(false);\n\t}\n\n\tasync function deleteRole(roleId: string) {\n\t\tlet apiResult = await roleRepo.deleteRole({\n\t\t\troleId: roleId!,\n\t\t});\n\t\tif (apiResult.isSuccess) {\n\t\t\tsetListLoading(true);\n\t\t\tgetRoles();\n\t\t\tmessage.success(\"Delete role success\");\n\t\t} else {\n\t\t\tmessage.success(\"Delete Fail\");\n\t\t}\n\t\tsetListLoading(false);\n\t}\n\n\tasync function deleteRelationship(clientRoleRelId: string) {\n\t\tlet apiResult = await relationshipRepo.deleteRelationship({\n\t\t\tclientRoleRelId: clientRoleRelId!,\n\t\t});\n\t\tif (apiResult.isSuccess) {\n\t\t\tsetListLoading(true);\n\t\t\tmessage.success(\"Delete relationship success\");\n\t\t} else {\n\t\t\tmessage.success(\"Delete Fail\");\n\t\t}\n\t\tsetListLoading(false);\n\t}\n\n\tuseEffect(() => {\n\t\tasync function initState() {\n\t\t\tlet userId = await LocalStorage.getUserID();\n\t\t\tlet apiResult = await userRepo.getUserById({\n\t\t\t\tuserId: userId!,\n\t\t\t});\n\t\t\tif (apiResult.isSuccess) {\n\t\t\t\tlet usermodel: User = apiResult.data[0];\n\t\t\t\tawait LocalStorage.setEmail(usermodel?.email ?? \"\");\n\t\t\t\tawait LocalStorage.setNickName(usermodel?.username ?? \"\");\n\t\t\t\tawait LocalStorage.setPackagePlan(\n\t\t\t\t\tusermodel?.packagePlan ?? \"free\"\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tinitState();\n        getClient();\n\n\t\treturn () => {\n\t\t\tsetViewTitle(\"\");\n\t\t\tsetViewList([]);\n\t\t\tsetListLoading(true);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<Layout>\n\t\t\t\t<Row className=\"dashboard_row\">\n\t\t\t\t\t<Col xs={24} xl={6} className=\"dashboard_col\" span={6} />\n\t\t\t\t\t<Col xs={24} xl={12} className=\"dashboard_col\" span={12}>\n\t\t\t\t\t\t<Skeleton active loading={_listLoading}>\n\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\tdataSource={_viewList}\n\t\t\t\t\t\t\t\tcolumns={[\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttitle: \"Name\",\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\n\t\t\t\t\t\t\t\t\t\tkey: \"name\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttitle: \"Created Date\",\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"createdDateTime\",\n\t\t\t\t\t\t\t\t\t\tkey: \"createdDateTime\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t;\n\t\t\t\t\t\t</Skeleton>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col xs={24} xl={12} className=\"dashboard_col\" span={6} />\n\t\t\t\t</Row>\n\t\t\t</Layout>\n\t\t</>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}