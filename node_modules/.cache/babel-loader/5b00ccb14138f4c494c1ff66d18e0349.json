{"ast":null,"code":"var _jsxFileName = \"/Users/gohshengyang/Documents/GitHub/codagence-web/src/pages/url/FillUrl.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Form, Typography, Image } from \"antd\";\nimport \"./Url.less\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { RoutePath } from \"../../utils/routePath\";\nimport { UrlRepo } from \"../../services/api/repositories/url_repo\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport mixpanel from \"mixpanel-browser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nexport const FillUrl = () => {\n  _s();\n\n  let history = useHistory();\n  let location = useLocation();\n  let urlRepo = new UrlRepo();\n  const [form] = Form.useForm();\n  const [isLoading, setLoading] = useState(false);\n  const [_url, setUrl] = useState(\"\");\n  const [_apiKey, setApiKey] = useState(uuidv4());\n  const locationState = location.state;\n\n  const onFinish = async values => {\n    mixpanel.track(\"Fill_Url_Excecute_Add_Url_Click\");\n    history.push({\n      pathname: RoutePath.fill_param,\n      state: {\n        url: values.url.trim(),\n        userApiId: locationState.userApiId,\n        apiKey: _apiKey\n      }\n    });\n  };\n\n  useEffect(() => {\n    async function initState() {\n      let apiResult = await urlRepo.getUrlByApiKey({\n        apiKey: locationState.apiKey\n      });\n\n      if (apiResult.isSuccess) {\n        setUrl(apiResult.data[0].url);\n        setApiKey(locationState.apiKey);\n      }\n    }\n\n    initState();\n  }, []);\n  useEffect(() => form.resetFields(), [_url]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Image, {\n      width: 200,\n      src: \"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(FillUrl, \"ZWex7gLroNgsuq2w+XmDoAk+5Vo=\", false, function () {\n  return [useHistory, useLocation, Form.useForm];\n});\n\n_c = FillUrl;\n\nvar _c;\n\n$RefreshReg$(_c, \"FillUrl\");","map":{"version":3,"sources":["/Users/gohshengyang/Documents/GitHub/codagence-web/src/pages/url/FillUrl.tsx"],"names":["React","useEffect","useState","Form","Typography","Image","useHistory","useLocation","RoutePath","UrlRepo","v4","uuidv4","mixpanel","Title","FillUrl","history","location","urlRepo","form","useForm","isLoading","setLoading","_url","setUrl","_apiKey","setApiKey","locationState","state","onFinish","values","track","push","pathname","fill_param","url","trim","userApiId","apiKey","initState","apiResult","getUrlByApiKey","isSuccess","data","resetFields"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,SAICC,IAJD,EAOCC,UAPD,EASCC,KATD,QAUO,MAVP;AAWA,OAAO,YAAP;AAEA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AACA,SAASC,SAAT,QAA0B,uBAA1B;AAMA,SAASC,OAAT,QAAwB,0CAAxB;AACA,SAASC,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,OAAOC,QAAP,MAAqB,kBAArB;;;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAYT,UAAlB;AAEA,OAAO,MAAMU,OAAsB,GAAG,MAAM;AAAA;;AAC3C,MAAIC,OAAO,GAAGT,UAAU,EAAxB;AAEA,MAAIU,QAAQ,GAAGT,WAAW,EAA1B;AAEA,MAAIU,OAAO,GAAG,IAAIR,OAAJ,EAAd;AAEA,QAAM,CAACS,IAAD,IAASf,IAAI,CAACgB,OAAL,EAAf;AAEA,QAAM,CAACC,SAAD,EAAYC,UAAZ,IAA0BnB,QAAQ,CAAC,KAAD,CAAxC;AAEA,QAAM,CAACoB,IAAD,EAAOC,MAAP,IAAiBrB,QAAQ,CAAC,EAAD,CAA/B;AAEA,QAAM,CAACsB,OAAD,EAAUC,SAAV,IAAuBvB,QAAQ,CAACS,MAAM,EAAP,CAArC;AAEA,QAAMe,aAAkB,GAAGV,QAAQ,CAACW,KAApC;;AAEA,QAAMC,QAAQ,GAAG,MAAOC,MAAP,IAAuB;AACvCjB,IAAAA,QAAQ,CAACkB,KAAT,CAAe,iCAAf;AAEAf,IAAAA,OAAO,CAACgB,IAAR,CAAa;AACZC,MAAAA,QAAQ,EAAExB,SAAS,CAACyB,UADR;AAEZN,MAAAA,KAAK,EAAE;AACNO,QAAAA,GAAG,EAAEL,MAAM,CAACK,GAAP,CAAWC,IAAX,EADC;AAENC,QAAAA,SAAS,EAAEV,aAAa,CAACU,SAFnB;AAGNC,QAAAA,MAAM,EAAEb;AAHF;AAFK,KAAb;AAQA,GAXD;;AAYAvB,EAAAA,SAAS,CAAC,MAAM;AACf,mBAAeqC,SAAf,GAA2B;AAC1B,UAAIC,SAAS,GAAG,MAAMtB,OAAO,CAACuB,cAAR,CAAuB;AAC5CH,QAAAA,MAAM,EAAEX,aAAa,CAACW;AADsB,OAAvB,CAAtB;;AAIA,UAAIE,SAAS,CAACE,SAAd,EAAyB;AACxBlB,QAAAA,MAAM,CAACgB,SAAS,CAACG,IAAV,CAAe,CAAf,EAAkBR,GAAnB,CAAN;AACAT,QAAAA,SAAS,CAACC,aAAa,CAACW,MAAf,CAAT;AACA;AACD;;AAEDC,IAAAA,SAAS;AACT,GAbQ,EAaN,EAbM,CAAT;AAcArC,EAAAA,SAAS,CAAC,MAAMiB,IAAI,CAACyB,WAAL,EAAP,EAA2B,CAACrB,IAAD,CAA3B,CAAT;AAEA,sBACC;AAAA,2BACC,QAAC,KAAD;AACG,MAAA,KAAK,EAAE,GADV;AAEG,MAAA,GAAG,EAAC;AAFP;AAAA;AAAA;AAAA;AAAA;AADD,mBADD;AAQA,CArDM;;GAAMR,O;UACER,U,EAECC,W,EAIAJ,IAAI,CAACgB,O;;;KAPRL,O","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport _ from \"lodash\";\nimport {\n\tLayout,\n\tRow,\n\tCol,\n\tForm,\n\tCard,\n\tInput,\n\tTypography,\n\tBadge,\n\tImage,\n} from \"antd\";\nimport \"./Url.less\";\nimport { BackHeader, FormButton } from \"../../utils/components\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { RoutePath } from \"../../utils/routePath\";\nimport correctJsonFormat1 from \"../../assets/faq/correct_json_format.png\";\nimport correctJsonFormat2 from \"../../assets/faq/correct_json_format_2.png\";\nimport correctJsonFormat3 from \"../../assets/faq/correct_json_format_3.png\";\nimport wrongJsonFormat1 from \"../../assets/faq/wrong_json_format.png\";\nimport wrongJsonFormat2 from \"../../assets/faq/wrong_json_format_2.png\";\nimport { UrlRepo } from \"../../services/api/repositories/url_repo\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport mixpanel from \"mixpanel-browser\";\n\nconst { Title } = Typography;\n\nexport const FillUrl: React.FC<any> = () => {\n\tlet history = useHistory();\n\n\tlet location = useLocation();\n\n\tlet urlRepo = new UrlRepo();\n\n\tconst [form] = Form.useForm();\n\n\tconst [isLoading, setLoading] = useState(false);\n\n\tconst [_url, setUrl] = useState(\"\");\n\n\tconst [_apiKey, setApiKey] = useState(uuidv4());\n\n\tconst locationState: any = location.state;\n\n\tconst onFinish = async (values: any) => {\n\t\tmixpanel.track(\"Fill_Url_Excecute_Add_Url_Click\");\n\n\t\thistory.push({\n\t\t\tpathname: RoutePath.fill_param,\n\t\t\tstate: {\n\t\t\t\turl: values.url.trim(),\n\t\t\t\tuserApiId: locationState.userApiId,\n\t\t\t\tapiKey: _apiKey,\n\t\t\t},\n\t\t});\n\t};\n\tuseEffect(() => {\n\t\tasync function initState() {\n\t\t\tlet apiResult = await urlRepo.getUrlByApiKey({\n\t\t\t\tapiKey: locationState.apiKey,\n\t\t\t});\n\n\t\t\tif (apiResult.isSuccess) {\n\t\t\t\tsetUrl(apiResult.data[0].url);\n\t\t\t\tsetApiKey(locationState.apiKey);\n\t\t\t}\n\t\t}\n\n\t\tinitState();\n\t}, []);\n\tuseEffect(() => form.resetFields(), [_url]);\n\n\treturn (\n\t\t<>\n\t\t\t<Image\n      width={200}\n      src=\"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\"\n    />\n\t\t</>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}