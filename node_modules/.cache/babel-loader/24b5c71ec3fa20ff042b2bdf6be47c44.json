{"ast":null,"code":"var _jsxFileName = \"/Users/gohshengyang/Documents/GitHub/codagence-web/src/pages/profile/ResetPassword.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Layout, Row, Col, Form, Card } from \"antd\";\nimport \"./ResetPassword.less\";\nimport { BackHeader, FormButton } from \"../../utils/components\";\nimport { FirebaseServices } from \"../../utils/firebaseServices\";\nimport { useHistory } from \"react-router-dom\";\nimport { RoutePath } from \"../../utils/routePath\";\nimport { LocalStorage } from \"../../utils/localStorage\";\nimport mixpanel from \"mixpanel-browser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ResetPassword = () => {\n  _s();\n\n  let history = useHistory();\n  const [isLoading, setLoading] = useState(false);\n\n  const onFinish = async values => {\n    mixpanel.track(\"Reset_Password_Excecute_Reset_Password_Click\");\n    const email = await LocalStorage.getEmail();\n    setLoading(true);\n    let firebaseResult = await FirebaseServices.resetPassword(email !== null && email !== void 0 ? email : \"\");\n\n    if (firebaseResult.isSuccess) {\n      // Go to login page\n      mixpanel.track(\"Reset_Password_Excecute_Reset_Password_Click\", {\n        firebaseResult: firebaseResult.message\n      });\n      alert(`Sent password reset email to ${email}`);\n      history.replace(RoutePath.home);\n      setLoading(false);\n    } else {\n      mixpanel.track(\"Reset_Password_Excecute_Reset_Password_Click\", {\n        firebaseResult: firebaseResult.message\n      });\n      alert(firebaseResult.message);\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    className: \"layout\",\n    style: {\n      overflow: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navbar\",\n      style: {\n        backgroundColor: \"#fff\"\n      },\n      children: /*#__PURE__*/_jsxDEV(BackHeader, {\n        title: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      className: \"reset_password_content\",\n      style: {\n        backgroundColor: \"white\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"reset_password_row\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: 24,\n          xl: 8,\n          className: \"reset_password_col\",\n          span: 8\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 24,\n          xl: 8,\n          className: \"reset_password_col\",\n          span: 8,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              name: \"reset_password\",\n              className: \"reset_password_form\",\n              initialValues: {\n                remember: true\n              },\n              onFinish: onFinish,\n              children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                children: /*#__PURE__*/_jsxDEV(FormButton, {\n                  title: \"Send Password Reset Email\",\n                  isLoading: isLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 24,\n          xl: 8,\n          className: \"reset_password_col\",\n          span: 8\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ResetPassword, \"NIAzi6gPcp68SBVGgvdrLXl2T+s=\", false, function () {\n  return [useHistory];\n});\n\n_c = ResetPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"sources":["/Users/gohshengyang/Documents/GitHub/codagence-web/src/pages/profile/ResetPassword.tsx"],"names":["React","useState","Layout","Row","Col","Form","Card","BackHeader","FormButton","FirebaseServices","useHistory","RoutePath","LocalStorage","mixpanel","ResetPassword","history","isLoading","setLoading","onFinish","values","track","email","getEmail","firebaseResult","resetPassword","isSuccess","message","alert","replace","home","overflow","backgroundColor","remember"],"mappings":"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","sourcesContent":["import React, { ReactElement, useState } from \"react\";\nimport _ from \"lodash\";\nimport { Layout, Row, Col, Form, Card } from \"antd\";\nimport \"./ResetPassword.less\";\nimport { BackHeader, EmailField, FormButton } from \"../../utils/components\";\nimport { FirebaseServices } from \"../../utils/firebaseServices\";\nimport { useHistory } from \"react-router-dom\";\nimport { RoutePath } from \"../../utils/routePath\";\nimport { LocalStorage } from \"../../utils/localStorage\";\nimport mixpanel from \"mixpanel-browser\";\n\nexport const ResetPassword: React.FC<any> = () => {\n\tlet history = useHistory();\n\n\tconst [isLoading, setLoading] = useState(false);\n\n\tconst onFinish = async (values: any) => {\n\t\tmixpanel.track(\"Reset_Password_Excecute_Reset_Password_Click\");\n\n\t\tconst email = await LocalStorage.getEmail();\n\t\tsetLoading(true);\n\t\tlet firebaseResult = await FirebaseServices.resetPassword(email ?? \"\");\n\n\t\tif (firebaseResult.isSuccess) {\n\t\t\t// Go to login page\n\t\t\tmixpanel.track(\"Reset_Password_Excecute_Reset_Password_Click\", {\n\t\t\t\tfirebaseResult: firebaseResult.message,\n\t\t\t});\n\n\t\t\talert(`Sent password reset email to ${email}`);\n\t\t\thistory.replace(RoutePath.home);\n\t\t\tsetLoading(false);\n\t\t} else {\n\t\t\tmixpanel.track(\"Reset_Password_Excecute_Reset_Password_Click\", {\n\t\t\t\tfirebaseResult: firebaseResult.message,\n\t\t\t});\n\n\t\t\talert(firebaseResult.message);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Layout className=\"layout\" style={{ overflow: \"auto\" }}>\n\t\t\t<div className=\"navbar\" style={{ backgroundColor: \"#fff\" }}>\n\t\t\t\t<BackHeader title=\"Reset Password\" />\n\t\t\t</div>\n\t\t\t<Layout\n\t\t\t\tclassName=\"reset_password_content\"\n\t\t\t\tstyle={{ backgroundColor: \"white\" }}\n\t\t\t>\n\t\t\t\t<Row className=\"reset_password_row\">\n\t\t\t\t\t<Col\n\t\t\t\t\t\txs={24}\n\t\t\t\t\t\txl={8}\n\t\t\t\t\t\tclassName=\"reset_password_col\"\n\t\t\t\t\t\tspan={8}\n\t\t\t\t\t/>\n\t\t\t\t\t<Col xs={24} xl={8} className=\"reset_password_col\" span={8}>\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t\tname=\"reset_password\"\n\t\t\t\t\t\t\t\tclassName=\"reset_password_form\"\n\t\t\t\t\t\t\t\tinitialValues={{ remember: true }}\n\t\t\t\t\t\t\t\tonFinish={onFinish}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t\t<FormButton\n\t\t\t\t\t\t\t\t\t\ttitle=\"Send Password Reset Email\"\n\t\t\t\t\t\t\t\t\t\tisLoading={isLoading}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Col>\n\t\t\t\t\t<Col\n\t\t\t\t\t\txs={24}\n\t\t\t\t\t\txl={8}\n\t\t\t\t\t\tclassName=\"reset_password_col\"\n\t\t\t\t\t\tspan={8}\n\t\t\t\t\t/>\n\t\t\t\t</Row>\n\t\t\t</Layout>\n\t\t</Layout>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}