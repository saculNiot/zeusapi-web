{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar ReactDOM = require('react-dom');\n\nvar invariant = require('invariant');\n\nvar throttleDebounce = require('throttle-debounce');\n\nvar createResizeDetector = require('element-resize-detector');\n\nvar isShallowEqual = require('shallowequal');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\nvar ReactDOM__default = /*#__PURE__*/_interopDefaultLegacy(ReactDOM);\n\nvar invariant__default = /*#__PURE__*/_interopDefaultLegacy(invariant);\n\nvar createResizeDetector__default = /*#__PURE__*/_interopDefaultLegacy(createResizeDetector);\n\nvar isShallowEqual__default = /*#__PURE__*/_interopDefaultLegacy(isShallowEqual);\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nvar instances = {}; // Lazily require to not cause bug\n// https://github.com/ctrlplusb/react-sizeme/issues/6\n\nfunction resizeDetector() {\n  var strategy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'scroll';\n\n  if (!instances[strategy]) {\n    instances[strategy] = createResizeDetector__default['default']({\n      strategy: strategy\n    });\n  }\n\n  return instances[strategy];\n}\n\nvar errMsg = 'react-sizeme: an error occurred whilst stopping to listen to node size changes';\nvar defaultConfig = {\n  monitorWidth: true,\n  monitorHeight: false,\n  refreshRate: 16,\n  refreshMode: 'throttle',\n  noPlaceholder: false,\n  resizeDetectorStrategy: 'scroll'\n};\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n/**\n * This is a utility wrapper component that will allow our higher order\n * component to get a ref handle on our wrapped components html.\n * @see https://gist.github.com/jimfb/32b587ee6177665fb4cf\n */\n\n\nvar ReferenceWrapper = /*#__PURE__*/function (_Component) {\n  _inherits(ReferenceWrapper, _Component);\n\n  var _super = _createSuper(ReferenceWrapper);\n\n  function ReferenceWrapper() {\n    _classCallCheck(this, ReferenceWrapper);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(ReferenceWrapper, [{\n    key: \"render\",\n    value: function render() {\n      return React.Children.only(this.props.children);\n    }\n  }]);\n\n  return ReferenceWrapper;\n}(React.Component);\n\n_defineProperty(ReferenceWrapper, \"displayName\", 'SizeMeReferenceWrapper');\n\nfunction Placeholder(_ref) {\n  var className = _ref.className,\n      style = _ref.style; // Lets create the props for the temp element.\n\n  var phProps = {}; // We will use any provided className/style or else make the temp\n  // container take the full available space.\n\n  if (!className && !style) {\n    phProps.style = {\n      width: '100%',\n      height: '100%'\n    };\n  } else {\n    if (className) {\n      phProps.className = className;\n    }\n\n    if (style) {\n      phProps.style = style;\n    }\n  }\n\n  return /*#__PURE__*/React__default['default'].createElement(\"div\", phProps);\n}\n\nPlaceholder.displayName = 'SizeMePlaceholder';\n/**\n * As we need to maintain a ref on the root node that is rendered within our\n * SizeMe component we need to wrap our entire render in a sub component.\n * Without this, we lose the DOM ref after the placeholder is removed from\n * the render and the actual component is rendered.\n * It took me forever to figure this out, so tread extra careful on this one!\n */\n\nvar renderWrapper = function renderWrapper(WrappedComponent) {\n  function SizeMeRenderer(props) {\n    var explicitRef = props.explicitRef,\n        className = props.className,\n        style = props.style,\n        size = props.size,\n        disablePlaceholder = props.disablePlaceholder;\n    props.onSize;\n\n    var restProps = _objectWithoutProperties(props, [\"explicitRef\", \"className\", \"style\", \"size\", \"disablePlaceholder\", \"onSize\"]);\n\n    var noSizeData = size == null || size.width == null && size.height == null;\n    var renderPlaceholder = noSizeData && !disablePlaceholder;\n    var renderProps = {\n      className: className,\n      style: style\n    };\n\n    if (size != null) {\n      renderProps.size = size;\n    }\n\n    var toRender = renderPlaceholder ? /*#__PURE__*/React__default['default'].createElement(Placeholder, {\n      className: className,\n      style: style\n    }) : /*#__PURE__*/React__default['default'].createElement(WrappedComponent, _extends({}, renderProps, restProps));\n    return /*#__PURE__*/React__default['default'].createElement(ReferenceWrapper, {\n      ref: explicitRef\n    }, toRender);\n  }\n\n  SizeMeRenderer.displayName = \"SizeMeRenderer(\".concat(getDisplayName(WrappedComponent), \")\");\n  return SizeMeRenderer;\n};\n/**\n * :: config -> Component -> WrappedComponent\n *\n * Higher order component that allows the wrapped component to become aware\n * of it's size, by receiving it as an object within it's props.\n *\n * @param  monitorWidth\n *   Default true, whether changes in the element's width should be monitored,\n *   causing a size property to be broadcast.\n * @param  monitorHeight\n *   Default false, whether changes in the element's height should be monitored,\n *   causing a size property to be broadcast.\n *\n * @return The wrapped component.\n */\n\n\nfunction withSize() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n  var _config$monitorWidth = config.monitorWidth,\n      monitorWidth = _config$monitorWidth === void 0 ? defaultConfig.monitorWidth : _config$monitorWidth,\n      _config$monitorHeight = config.monitorHeight,\n      monitorHeight = _config$monitorHeight === void 0 ? defaultConfig.monitorHeight : _config$monitorHeight,\n      _config$refreshRate = config.refreshRate,\n      refreshRate = _config$refreshRate === void 0 ? defaultConfig.refreshRate : _config$refreshRate,\n      _config$refreshMode = config.refreshMode,\n      refreshMode = _config$refreshMode === void 0 ? defaultConfig.refreshMode : _config$refreshMode,\n      _config$noPlaceholder = config.noPlaceholder,\n      noPlaceholder = _config$noPlaceholder === void 0 ? defaultConfig.noPlaceholder : _config$noPlaceholder,\n      _config$resizeDetecto = config.resizeDetectorStrategy,\n      resizeDetectorStrategy = _config$resizeDetecto === void 0 ? defaultConfig.resizeDetectorStrategy : _config$resizeDetecto;\n  invariant__default['default'](monitorWidth || monitorHeight, 'You have to monitor at least one of the width or height when using \"sizeMe\"');\n  invariant__default['default'](refreshRate >= 16, \"It is highly recommended that you don't put your refreshRate lower than \" + '16 as this may cause layout thrashing.');\n  invariant__default['default'](refreshMode === 'throttle' || refreshMode === 'debounce', 'The refreshMode should have a value of \"throttle\" or \"debounce\"');\n  var refreshDelayStrategy = refreshMode === 'throttle' ? throttleDebounce.throttle : throttleDebounce.debounce;\n  return function WrapComponent(WrappedComponent) {\n    var SizeMeRenderWrapper = renderWrapper(WrappedComponent);\n\n    var SizeAwareComponent = /*#__PURE__*/function (_React$Component) {\n      _inherits(SizeAwareComponent, _React$Component);\n\n      var _super2 = _createSuper(SizeAwareComponent);\n\n      function SizeAwareComponent() {\n        var _this;\n\n        _classCallCheck(this, SizeAwareComponent);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this = _super2.call.apply(_super2, [this].concat(args));\n\n        _defineProperty(_assertThisInitialized(_this), \"domEl\", null);\n\n        _defineProperty(_assertThisInitialized(_this), \"state\", {\n          width: undefined,\n          height: undefined\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"uninstall\", function () {\n          if (_this.domEl) {\n            try {\n              _this.detector.uninstall(_this.domEl);\n            } catch (err) {\n              // eslint-disable-next-line no-console\n              console.warn(errMsg);\n            }\n\n            _this.domEl = null;\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"determineStrategy\", function (props) {\n          if (props.onSize) {\n            if (!_this.callbackState) {\n              _this.callbackState = _objectSpread2({}, _this.state);\n            }\n\n            _this.strategy = 'callback';\n          } else {\n            _this.strategy = 'render';\n          }\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"strategisedSetState\", function (state) {\n          if (_this.strategy === 'callback') {\n            _this.callbackState = state;\n\n            _this.props.onSize(state);\n          }\n\n          _this.setState(state);\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"strategisedGetState\", function () {\n          return _this.strategy === 'callback' ? _this.callbackState : _this.state;\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"refCallback\", function (element) {\n          _this.element = element;\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"hasSizeChanged\", function (current, next) {\n          var c = current;\n          var n = next;\n          return monitorWidth && c.width !== n.width || monitorHeight && c.height !== n.height;\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"checkIfSizeChanged\", refreshDelayStrategy(refreshRate, function (el) {\n          var _el$getBoundingClient = el.getBoundingClientRect(),\n              width = _el$getBoundingClient.width,\n              height = _el$getBoundingClient.height;\n\n          var next = {\n            width: monitorWidth ? width : null,\n            height: monitorHeight ? height : null\n          };\n\n          if (_this.hasSizeChanged(_this.strategisedGetState(), next)) {\n            _this.strategisedSetState(next);\n          }\n        }));\n\n        return _this;\n      }\n\n      _createClass(SizeAwareComponent, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.detector = resizeDetector(resizeDetectorStrategy);\n          this.determineStrategy(this.props);\n          this.handleDOMNode();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate() {\n          this.determineStrategy(this.props);\n          this.handleDOMNode();\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          // Change our size checker to a noop just in case we have some\n          // late running events.\n          this.hasSizeChanged = function () {\n            return undefined;\n          };\n\n          this.checkIfSizeChanged = function () {\n            return undefined;\n          };\n\n          this.uninstall();\n        }\n      }, {\n        key: \"handleDOMNode\",\n        value: function handleDOMNode() {\n          var found = this.element && ReactDOM__default['default'].findDOMNode(this.element);\n\n          if (!found) {\n            // If we previously had a dom node then we need to ensure that\n            // we remove any existing listeners to avoid memory leaks.\n            this.uninstall();\n            return;\n          }\n\n          if (!this.domEl) {\n            this.domEl = found;\n            this.detector.listenTo(this.domEl, this.checkIfSizeChanged);\n          } else if (this.domEl.isSameNode && !this.domEl.isSameNode(found) || this.domEl !== found) {\n            this.uninstall();\n            this.domEl = found;\n            this.detector.listenTo(this.domEl, this.checkIfSizeChanged);\n          } else ;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var disablePlaceholder = withSize.enableSSRBehaviour || withSize.noPlaceholders || noPlaceholder || this.strategy === 'callback';\n\n          var size = _objectSpread2({}, this.state);\n\n          return /*#__PURE__*/React__default['default'].createElement(SizeMeRenderWrapper, _extends({\n            explicitRef: this.refCallback,\n            size: this.strategy === 'callback' ? null : size,\n            disablePlaceholder: disablePlaceholder\n          }, this.props));\n        }\n      }]);\n\n      return SizeAwareComponent;\n    }(React__default['default'].Component);\n\n    _defineProperty(SizeAwareComponent, \"displayName\", \"SizeMe(\".concat(getDisplayName(WrappedComponent), \")\"));\n\n    SizeAwareComponent.WrappedComponent = WrappedComponent;\n    return SizeAwareComponent;\n  };\n}\n/**\n * Allow SizeMe to run within SSR environments.  This is a \"global\" behaviour\n * flag that should be set within the initialisation phase of your application.\n *\n * Warning: don't set this flag unless you need to as using it may cause\n * extra render cycles to happen within your components depending on the logic\n * contained within them around the usage of the `size` data.\n *\n * DEPRECATED: Please use the global noPlaceholders\n */\n\n\nwithSize.enableSSRBehaviour = false;\n/**\n * Global configuration allowing to disable placeholder rendering for all\n * sizeMe components.\n */\n\nwithSize.noPlaceholders = false;\n\nvar SizeMe = /*#__PURE__*/function (_Component) {\n  _inherits(SizeMe, _Component);\n\n  var _super = _createSuper(SizeMe);\n\n  function SizeMe(props) {\n    var _this;\n\n    _classCallCheck(this, SizeMe);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"createComponent\", function (config) {\n      _this.SizeAware = withSize(config)(function (_ref) {\n        var children = _ref.children;\n        return children;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSize\", function (size) {\n      return _this.setState({\n        size: size\n      });\n    });\n\n    props.children;\n    props.render;\n\n    var sizeMeConfig = _objectWithoutProperties(props, [\"children\", \"render\"]);\n\n    _this.createComponent(sizeMeConfig);\n\n    _this.state = {\n      size: {\n        width: undefined,\n        height: undefined\n      }\n    };\n    return _this;\n  }\n\n  _createClass(SizeMe, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props = this.props;\n      _this$props.children;\n      _this$props.render;\n\n      var currentSizeMeConfig = _objectWithoutProperties(_this$props, [\"children\", \"render\"]);\n\n      prevProps.children;\n      prevProps.render;\n\n      var prevSizeMeConfig = _objectWithoutProperties(prevProps, [\"children\", \"render\"]);\n\n      if (!isShallowEqual__default['default'](currentSizeMeConfig, prevSizeMeConfig)) {\n        this.createComponent(currentSizeMeConfig);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var SizeAware = this.SizeAware;\n      var render = this.props.children || this.props.render;\n      return /*#__PURE__*/React__default['default'].createElement(SizeAware, {\n        onSize: this.onSize\n      }, render({\n        size: this.state.size\n      }));\n    }\n  }]);\n\n  return SizeMe;\n}(React.Component);\n\n_defineProperty(SizeMe, \"defaultProps\", {\n  children: undefined,\n  render: undefined\n});\n\nwithSize.SizeMe = SizeMe;\nwithSize.withSize = withSize;\nmodule.exports = withSize;","map":{"version":3,"sources":["../src/resize-detector.js","../src/with-size.js","../src/component.js","../src/index.js"],"names":["instances","strategy","createResizeDetector","errMsg","defaultConfig","monitorWidth","monitorHeight","refreshRate","refreshMode","noPlaceholder","resizeDetectorStrategy","WrappedComponent","ReferenceWrapper","Component","Children","className","style","phProps","width","height","React","Placeholder","renderWrapper","explicitRef","size","disablePlaceholder","restProps","props","noSizeData","renderPlaceholder","renderProps","toRender","SizeMeRenderer","getDisplayName","config","invariant","refreshDelayStrategy","throttle","debounce","SizeMeRenderWrapper","SizeAwareComponent","undefined","resizeDetector","console","found","ReactDOM","c","n","el","next","withSize","SizeMe","children","render","sizeMeConfig","currentSizeMeConfig","prevSizeMeConfig","prevProps","isShallowEqual","SizeAware","onSize"],"mappings":"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","sourcesContent":["import createResizeDetector from 'element-resize-detector'\n\nconst instances = {}\n\n// Lazily require to not cause bug\n// https://github.com/ctrlplusb/react-sizeme/issues/6\nfunction resizeDetector(strategy = 'scroll') {\n  if (!instances[strategy]) {\n    instances[strategy] = createResizeDetector({\n      strategy,\n    })\n  }\n\n  return instances[strategy]\n}\n\nexport default resizeDetector\n","/* eslint-disable react/no-multi-comp */\n/* eslint-disable react/prop-types */\n/* eslint-disable react/require-default-props */\n/* eslint-disable react/no-find-dom-node */\n\nimport React, { Children, Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport invariant from 'invariant'\nimport { debounce, throttle } from 'throttle-debounce'\nimport resizeDetector from './resize-detector'\n\nconst errMsg =\n  'react-sizeme: an error occurred whilst stopping to listen to node size changes'\n\nconst defaultConfig = {\n  monitorWidth: true,\n  monitorHeight: false,\n  refreshRate: 16,\n  refreshMode: 'throttle',\n  noPlaceholder: false,\n  resizeDetectorStrategy: 'scroll',\n}\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component'\n}\n\n/**\n * This is a utility wrapper component that will allow our higher order\n * component to get a ref handle on our wrapped components html.\n * @see https://gist.github.com/jimfb/32b587ee6177665fb4cf\n */\nclass ReferenceWrapper extends Component {\n  static displayName = 'SizeMeReferenceWrapper'\n\n  render() {\n    return Children.only(this.props.children)\n  }\n}\n\nfunction Placeholder({ className, style }) {\n  // Lets create the props for the temp element.\n  const phProps = {}\n\n  // We will use any provided className/style or else make the temp\n  // container take the full available space.\n  if (!className && !style) {\n    phProps.style = { width: '100%', height: '100%' }\n  } else {\n    if (className) {\n      phProps.className = className\n    }\n    if (style) {\n      phProps.style = style\n    }\n  }\n\n  return <div {...phProps} />\n}\nPlaceholder.displayName = 'SizeMePlaceholder'\n\n/**\n * As we need to maintain a ref on the root node that is rendered within our\n * SizeMe component we need to wrap our entire render in a sub component.\n * Without this, we lose the DOM ref after the placeholder is removed from\n * the render and the actual component is rendered.\n * It took me forever to figure this out, so tread extra careful on this one!\n */\nconst renderWrapper = (WrappedComponent) => {\n  function SizeMeRenderer(props) {\n    const {\n      explicitRef,\n      className,\n      style,\n      size,\n      disablePlaceholder,\n      onSize,\n      ...restProps\n    } = props\n\n    const noSizeData =\n      size == null || (size.width == null && size.height == null)\n\n    const renderPlaceholder = noSizeData && !disablePlaceholder\n\n    const renderProps = {\n      className,\n      style,\n    }\n\n    if (size != null) {\n      renderProps.size = size\n    }\n\n    const toRender = renderPlaceholder ? (\n      <Placeholder className={className} style={style} />\n    ) : (\n      <WrappedComponent {...renderProps} {...restProps} />\n    )\n\n    return <ReferenceWrapper ref={explicitRef}>{toRender}</ReferenceWrapper>\n  }\n\n  SizeMeRenderer.displayName = `SizeMeRenderer(${getDisplayName(\n    WrappedComponent,\n  )})`\n\n  return SizeMeRenderer\n}\n\n/**\n * :: config -> Component -> WrappedComponent\n *\n * Higher order component that allows the wrapped component to become aware\n * of it's size, by receiving it as an object within it's props.\n *\n * @param  monitorWidth\n *   Default true, whether changes in the element's width should be monitored,\n *   causing a size property to be broadcast.\n * @param  monitorHeight\n *   Default false, whether changes in the element's height should be monitored,\n *   causing a size property to be broadcast.\n *\n * @return The wrapped component.\n */\nfunction withSize(config = defaultConfig) {\n  const {\n    monitorWidth = defaultConfig.monitorWidth,\n    monitorHeight = defaultConfig.monitorHeight,\n    refreshRate = defaultConfig.refreshRate,\n    refreshMode = defaultConfig.refreshMode,\n    noPlaceholder = defaultConfig.noPlaceholder,\n    resizeDetectorStrategy = defaultConfig.resizeDetectorStrategy,\n  } = config\n\n  invariant(\n    monitorWidth || monitorHeight,\n    'You have to monitor at least one of the width or height when using \"sizeMe\"',\n  )\n\n  invariant(\n    refreshRate >= 16,\n    \"It is highly recommended that you don't put your refreshRate lower than \" +\n      '16 as this may cause layout thrashing.',\n  )\n\n  invariant(\n    refreshMode === 'throttle' || refreshMode === 'debounce',\n    'The refreshMode should have a value of \"throttle\" or \"debounce\"',\n  )\n\n  const refreshDelayStrategy = refreshMode === 'throttle' ? throttle : debounce\n\n  return function WrapComponent(WrappedComponent) {\n    const SizeMeRenderWrapper = renderWrapper(WrappedComponent)\n\n    class SizeAwareComponent extends React.Component {\n      static displayName = `SizeMe(${getDisplayName(WrappedComponent)})`\n\n      domEl = null\n\n      state = {\n        width: undefined,\n        height: undefined,\n      }\n\n      componentDidMount() {\n        this.detector = resizeDetector(resizeDetectorStrategy)\n        this.determineStrategy(this.props)\n        this.handleDOMNode()\n      }\n\n      componentDidUpdate() {\n        this.determineStrategy(this.props)\n        this.handleDOMNode()\n      }\n\n      componentWillUnmount() {\n        // Change our size checker to a noop just in case we have some\n        // late running events.\n        this.hasSizeChanged = () => undefined\n        this.checkIfSizeChanged = () => undefined\n        this.uninstall()\n      }\n\n      uninstall = () => {\n        if (this.domEl) {\n          try {\n            this.detector.uninstall(this.domEl)\n          } catch (err) {\n            // eslint-disable-next-line no-console\n            console.warn(errMsg)\n          }\n          this.domEl = null\n        }\n      }\n\n      determineStrategy = (props) => {\n        if (props.onSize) {\n          if (!this.callbackState) {\n            this.callbackState = {\n              ...this.state,\n            }\n          }\n          this.strategy = 'callback'\n        } else {\n          this.strategy = 'render'\n        }\n      }\n\n      strategisedSetState = (state) => {\n        if (this.strategy === 'callback') {\n          this.callbackState = state\n          this.props.onSize(state)\n        }\n        this.setState(state)\n      }\n\n      strategisedGetState = () =>\n        this.strategy === 'callback' ? this.callbackState : this.state\n\n      handleDOMNode() {\n        const found = this.element && ReactDOM.findDOMNode(this.element)\n\n        if (!found) {\n          // If we previously had a dom node then we need to ensure that\n          // we remove any existing listeners to avoid memory leaks.\n          this.uninstall()\n          return\n        }\n\n        if (!this.domEl) {\n          this.domEl = found\n          this.detector.listenTo(this.domEl, this.checkIfSizeChanged)\n        } else if (\n          (this.domEl.isSameNode && !this.domEl.isSameNode(found)) ||\n          this.domEl !== found\n        ) {\n          this.uninstall()\n          this.domEl = found\n          this.detector.listenTo(this.domEl, this.checkIfSizeChanged)\n        } else {\n          // Do nothing ðŸ‘\n        }\n      }\n\n      refCallback = (element) => {\n        this.element = element\n      }\n\n      hasSizeChanged = (current, next) => {\n        const c = current\n        const n = next\n\n        return (\n          (monitorWidth && c.width !== n.width) ||\n          (monitorHeight && c.height !== n.height)\n        )\n      }\n\n      checkIfSizeChanged = refreshDelayStrategy(refreshRate, (el) => {\n        const { width, height } = el.getBoundingClientRect()\n\n        const next = {\n          width: monitorWidth ? width : null,\n          height: monitorHeight ? height : null,\n        }\n\n        if (this.hasSizeChanged(this.strategisedGetState(), next)) {\n          this.strategisedSetState(next)\n        }\n      })\n\n      render() {\n        const disablePlaceholder =\n          withSize.enableSSRBehaviour ||\n          withSize.noPlaceholders ||\n          noPlaceholder ||\n          this.strategy === 'callback'\n\n        const size = { ...this.state }\n\n        return (\n          <SizeMeRenderWrapper\n            explicitRef={this.refCallback}\n            size={this.strategy === 'callback' ? null : size}\n            disablePlaceholder={disablePlaceholder}\n            {...this.props}\n          />\n        )\n      }\n    }\n\n    SizeAwareComponent.WrappedComponent = WrappedComponent\n\n    return SizeAwareComponent\n  }\n}\n\n/**\n * Allow SizeMe to run within SSR environments.  This is a \"global\" behaviour\n * flag that should be set within the initialisation phase of your application.\n *\n * Warning: don't set this flag unless you need to as using it may cause\n * extra render cycles to happen within your components depending on the logic\n * contained within them around the usage of the `size` data.\n *\n * DEPRECATED: Please use the global noPlaceholders\n */\nwithSize.enableSSRBehaviour = false\n\n/**\n * Global configuration allowing to disable placeholder rendering for all\n * sizeMe components.\n */\nwithSize.noPlaceholders = false\n\nexport default withSize\n","/* eslint-disable react/prop-types */\n\nimport React, { Component } from 'react'\nimport isShallowEqual from 'shallowequal'\nimport withSize from './with-size'\n\nexport default class SizeMe extends Component {\n  static defaultProps = {\n    children: undefined,\n    render: undefined,\n  }\n\n  constructor(props) {\n    super(props)\n    const { children, render, ...sizeMeConfig } = props\n    this.createComponent(sizeMeConfig)\n    this.state = {\n      size: {\n        width: undefined,\n        height: undefined,\n      },\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      children: prevChildren,\n      render: prevRender,\n      ...currentSizeMeConfig\n    } = this.props\n    const {\n      children: nextChildren,\n      render: nextRender,\n      ...prevSizeMeConfig\n    } = prevProps\n    if (!isShallowEqual(currentSizeMeConfig, prevSizeMeConfig)) {\n      this.createComponent(currentSizeMeConfig)\n    }\n  }\n\n  createComponent = (config) => {\n    this.SizeAware = withSize(config)(({ children }) => children)\n  }\n\n  onSize = (size) => this.setState({ size })\n\n  render() {\n    const { SizeAware } = this\n    const render = this.props.children || this.props.render\n    return (\n      <SizeAware onSize={this.onSize}>\n        {render({ size: this.state.size })}\n      </SizeAware>\n    )\n  }\n}\n","import withSize from './with-size'\nimport SizeMe from './component'\n\nwithSize.SizeMe = SizeMe\nwithSize.withSize = withSize\n\nexport default withSize\n"]},"metadata":{},"sourceType":"script"}