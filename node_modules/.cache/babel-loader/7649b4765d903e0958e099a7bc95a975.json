{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.execOnce = execOnce;\nexports.getLocationOrigin = getLocationOrigin;\nexports.getURL = getURL;\nexports.getDisplayName = getDisplayName;\nexports.isResSent = isResSent;\nexports.normalizeRepeatedSlashes = normalizeRepeatedSlashes;\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.ST = exports.SP = exports.warnOnce = void 0;\n\nfunction execOnce(fn) {\n  let used = false;\n  let result;\n  return (...args) => {\n    if (!used) {\n      used = true;\n      result = fn(...args);\n    }\n\n    return result;\n  };\n}\n\nfunction getLocationOrigin() {\n  const {\n    protocol,\n    hostname,\n    port\n  } = window.location;\n  return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\n\nfunction getURL() {\n  const {\n    href\n  } = window.location;\n  const origin = getLocationOrigin();\n  return href.substring(origin.length);\n}\n\nfunction getDisplayName(Component) {\n  return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';\n}\n\nfunction isResSent(res) {\n  return res.finished || res.headersSent;\n}\n\nfunction normalizeRepeatedSlashes(url) {\n  const urlParts = url.split('?');\n  const urlNoQuery = urlParts[0];\n  return urlNoQuery // first we replace any non-encoded backslashes with forward\n  // then normalize repeated forward slashes\n  .replace(/\\\\/g, '/').replace(/\\/\\/+/g, '/') + (urlParts[1] ? `?${urlParts.slice(1).join('?')}` : '');\n}\n\nasync function loadGetInitialProps(App, ctx) {\n  if (process.env.NODE_ENV !== 'production') {\n    var ref;\n\n    if ((ref = App.prototype) === null || ref === void 0 ? void 0 : ref.getInitialProps) {\n      const message = `\"${getDisplayName(App)}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`;\n      throw new Error(message);\n    }\n  } // when called from _app `ctx` is nested in `ctx`\n\n\n  const res = ctx.res || ctx.ctx && ctx.ctx.res;\n\n  if (!App.getInitialProps) {\n    if (ctx.ctx && ctx.Component) {\n      // @ts-ignore pageProps default\n      return {\n        pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx)\n      };\n    }\n\n    return {};\n  }\n\n  const props = await App.getInitialProps(ctx);\n\n  if (res && isResSent(res)) {\n    return props;\n  }\n\n  if (!props) {\n    const message = `\"${getDisplayName(App)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n    throw new Error(message);\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.keys(props).length === 0 && !ctx.ctx) {\n      console.warn(`${getDisplayName(App)} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`);\n    }\n  }\n\n  return props;\n}\n\nlet warnOnce = _ => {};\n\nexports.warnOnce = warnOnce;\n\nif (process.env.NODE_ENV !== 'production') {\n  const warnings = new Set();\n\n  exports.warnOnce = warnOnce = msg => {\n    if (!warnings.has(msg)) {\n      console.warn(msg);\n    }\n\n    warnings.add(msg);\n  };\n}\n\nconst SP = typeof performance !== 'undefined';\nexports.SP = SP;\nconst ST = SP && typeof performance.mark === 'function' && typeof performance.measure === 'function';\nexports.ST = ST;\n\nclass DecodeError extends Error {}\n\nexports.DecodeError = DecodeError;\n\nclass NormalizeError extends Error {}\n\nexports.NormalizeError = NormalizeError;","map":{"version":3,"sources":["../../../shared/lib/utils.ts"],"names":["execOnce","fn","used","result","args","getLocationOrigin","protocol","hostname","port","window","location","getURL","href","origin","substring","length","getDisplayName","Component","displayName","name","isResSent","res","finished","headersSent","normalizeRepeatedSlashes","url","urlParts","split","urlNoQuery","replace","slice","join","loadGetInitialProps","App","ctx","process","env","NODE_ENV","prototype","getInitialProps","message","Error","pageProps","props","Object","keys","console","warn","warnOnce","_","warnings","Set","msg","has","add","SP","performance","ST","mark","measure","DecodeError","NormalizeError"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.execOnce = execOnce;\nexports.getLocationOrigin = getLocationOrigin;\nexports.getURL = getURL;\nexports.getDisplayName = getDisplayName;\nexports.isResSent = isResSent;\nexports.normalizeRepeatedSlashes = normalizeRepeatedSlashes;\nexports.loadGetInitialProps = loadGetInitialProps;\nexports.ST = exports.SP = exports.warnOnce = void 0;\nfunction execOnce(fn) {\n    let used = false;\n    let result;\n    return (...args)=>{\n        if (!used) {\n            used = true;\n            result = fn(...args);\n        }\n        return result;\n    };\n}\nfunction getLocationOrigin() {\n    const { protocol , hostname , port  } = window.location;\n    return `${protocol}//${hostname}${port ? ':' + port : ''}`;\n}\nfunction getURL() {\n    const { href  } = window.location;\n    const origin = getLocationOrigin();\n    return href.substring(origin.length);\n}\nfunction getDisplayName(Component) {\n    return typeof Component === 'string' ? Component : Component.displayName || Component.name || 'Unknown';\n}\nfunction isResSent(res) {\n    return res.finished || res.headersSent;\n}\nfunction normalizeRepeatedSlashes(url) {\n    const urlParts = url.split('?');\n    const urlNoQuery = urlParts[0];\n    return urlNoQuery// first we replace any non-encoded backslashes with forward\n    // then normalize repeated forward slashes\n    .replace(/\\\\/g, '/').replace(/\\/\\/+/g, '/') + (urlParts[1] ? `?${urlParts.slice(1).join('?')}` : '');\n}\nasync function loadGetInitialProps(App, ctx) {\n    if (process.env.NODE_ENV !== 'production') {\n        var ref;\n        if ((ref = App.prototype) === null || ref === void 0 ? void 0 : ref.getInitialProps) {\n            const message = `\"${getDisplayName(App)}.getInitialProps()\" is defined as an instance method - visit https://nextjs.org/docs/messages/get-initial-props-as-an-instance-method for more information.`;\n            throw new Error(message);\n        }\n    }\n    // when called from _app `ctx` is nested in `ctx`\n    const res = ctx.res || ctx.ctx && ctx.ctx.res;\n    if (!App.getInitialProps) {\n        if (ctx.ctx && ctx.Component) {\n            // @ts-ignore pageProps default\n            return {\n                pageProps: await loadGetInitialProps(ctx.Component, ctx.ctx)\n            };\n        }\n        return {};\n    }\n    const props = await App.getInitialProps(ctx);\n    if (res && isResSent(res)) {\n        return props;\n    }\n    if (!props) {\n        const message = `\"${getDisplayName(App)}.getInitialProps()\" should resolve to an object. But found \"${props}\" instead.`;\n        throw new Error(message);\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        if (Object.keys(props).length === 0 && !ctx.ctx) {\n            console.warn(`${getDisplayName(App)} returned an empty object from \\`getInitialProps\\`. This de-optimizes and prevents automatic static optimization. https://nextjs.org/docs/messages/empty-object-getInitialProps`);\n        }\n    }\n    return props;\n}\nlet warnOnce = (_)=>{};\nexports.warnOnce = warnOnce;\nif (process.env.NODE_ENV !== 'production') {\n    const warnings = new Set();\n    exports.warnOnce = warnOnce = (msg)=>{\n        if (!warnings.has(msg)) {\n            console.warn(msg);\n        }\n        warnings.add(msg);\n    };\n}\nconst SP = typeof performance !== 'undefined';\nexports.SP = SP;\nconst ST = SP && typeof performance.mark === 'function' && typeof performance.measure === 'function';\nexports.ST = ST;\nclass DecodeError extends Error {\n}\nexports.DecodeError = DecodeError;\nclass NormalizeError extends Error {\n}\nexports.NormalizeError = NormalizeError;\n\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}