{"ast":null,"code":"var _jsxFileName = \"/Users/gohshengyang/Documents/GitHub/codagence-web/src/pages/graph_display/GraphPreview.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Layout, Spin } from \"antd\";\nimport RGL from \"react-grid-layout\";\nimport \"react-grid-layout/css/styles.css\";\nimport { SizeMe, withSize } from \"react-sizeme\";\nimport { MyBar } from \"../chartManager/BarChart\";\nimport { Content } from \"antd/lib/layout/layout\"; // Resize the Grid Layout according to the parent widget\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst withSizeHOC = withSize();\nconst ReactGridLayout = withSizeHOC(RGL);\n_c = ReactGridLayout;\nexport const GraphPreview = ({\n  graphValue\n}) => {\n  _s();\n\n  // State of managing graph properties\n  const [_graphValues, setGraphValues] = useState([]);\n  const [_isEditorLoading, setEditorLoading] = useState(true);\n  useEffect(() => {\n    async function initState() {\n      graphValue.forEach(item => {\n        item[\"data_grid\"][\"static\"] = true;\n      });\n      setGraphValues(graphValue);\n      setEditorLoading(false);\n    }\n\n    initState();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    style: {\n      overflow: \"auto\",\n      minHeight: \"70vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Content, {\n      className: \"site-layout-background\",\n      style: {\n        padding: 0,\n        margin: 0,\n        alignItems: \"center\"\n      },\n      children: _isEditorLoading ? /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(SizeMe, {\n        children: ({\n          size\n        }) => /*#__PURE__*/_jsxDEV(ReactGridLayout, {\n          className: \"grid-layout\",\n          width: size.width,\n          rowHeight: size.width / 60,\n          cols: 30,\n          children: _graphValues.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              \"data-grid\": item.data_grid,\n              style: {\n                width: \"auto\",\n                border: \"1px solid #D3D3D3\",\n                padding: \"10px 10px 10px 10px\",\n                height: \"100px\" // To enable the chart responsive in height\n\n              },\n              children: /*#__PURE__*/_jsxDEV(MyBar, {\n                data: {\n                  key: item.key,\n                  main_chart_type: item.main_chart_type,\n                  title: item.title,\n                  dataSet: item.dataSet,\n                  dimension: item.dimension,\n                  data_grid: item.data_grid,\n                  chosen_schema: item.chosen_schema\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 12\n              }, this)\n            }, item.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 11\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 3\n  }, this);\n};\n\n_s(GraphPreview, \"/wUsJoQS06WMxpZIY/q7RrAokLY=\");\n\n_c2 = GraphPreview;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ReactGridLayout\");\n$RefreshReg$(_c2, \"GraphPreview\");","map":{"version":3,"sources":["/Users/gohshengyang/Documents/GitHub/codagence-web/src/pages/graph_display/GraphPreview.tsx"],"names":["React","useEffect","useState","Layout","Spin","RGL","SizeMe","withSize","MyBar","Content","withSizeHOC","ReactGridLayout","GraphPreview","graphValue","_graphValues","setGraphValues","_isEditorLoading","setEditorLoading","initState","forEach","item","overflow","minHeight","padding","margin","alignItems","size","width","map","index","data_grid","border","height","key","main_chart_type","title","dataSet","dimension","chosen_schema"],"mappings":"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","sourcesContent":["import React, { ReactElement, useEffect, useState } from \"react\";\nimport _ from \"lodash\";\nimport {\n\tTooltip,\n\tButton,\n\tLayout,\n\tMenu,\n\tTypography,\n\tPageHeader,\n\tmessage,\n\tDropdown,\n\tSpin,\n\tModal,\n} from \"antd\";\nimport {\n\tBarChartOutlined,\n\tCopyOutlined,\n\tEditTwoTone,\n\tEyeTwoTone,\n\tHomeTwoTone,\n\tLeftCircleTwoTone,\n\tLeftSquareOutlined,\n\tLineChartOutlined,\n\tMenuOutlined,\n\tPieChartOutlined,\n\tPlusCircleTwoTone,\n\tRightCircleTwoTone,\n\tSaveTwoTone,\n} from \"@ant-design/icons\";\nimport RGL, { Responsive, WidthProvider } from \"react-grid-layout\";\nimport \"react-grid-layout/css/styles.css\";\nimport { SizeMe, withSize } from \"react-sizeme\";\nimport { DataProps, MyBar } from \"../chartManager/BarChart\";\nimport { Content } from \"antd/lib/layout/layout\";\n\n// Resize the Grid Layout according to the parent widget\nconst withSizeHOC = withSize();\nconst ReactGridLayout = withSizeHOC(RGL);\n\ninterface GraphPreviewProps {\n\tgraphValue: Array<DataProps[\"data\"]>;\n}\n\nexport const GraphPreview: React.FC<GraphPreviewProps> = ({ graphValue }) => {\n\t// State of managing graph properties\n\tconst [_graphValues, setGraphValues] = useState<Array<DataProps[\"data\"]>>(\n\t\t[]\n\t);\n\n\tconst [_isEditorLoading, setEditorLoading] = useState<boolean>(true);\n\n\n\tuseEffect(() => {\n\t\tasync function initState() {\n\t\t\tgraphValue.forEach(item=>{\n                item[\"data_grid\"][\"static\"] = true;\n            })\n\t\t\tsetGraphValues(graphValue);\n\t\t\tsetEditorLoading(false);\n\t\t}\n\n\t\tinitState();\n\t}, []);\n\n\treturn (\n\t\t<Layout style={{ overflow: \"auto\", minHeight: \"70vh\" }}>\n\t\t\t<Content\n\t\t\t\tclassName=\"site-layout-background\"\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{_isEditorLoading ? (\n\t\t\t\t\t<Spin></Spin>\n\t\t\t\t) : (\n\t\t\t\t\t<SizeMe>\n\t\t\t\t\t\t{({ size }) => (\n\t\t\t\t\t\t\t<ReactGridLayout\n\t\t\t\t\t\t\t\tclassName=\"grid-layout\"\n\t\t\t\t\t\t\t\twidth={size.width as number}\n\t\t\t\t\t\t\t\trowHeight={(size.width as number) / 60}\n\t\t\t\t\t\t\t\tcols={30}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{_graphValues.map((item, index) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tkey={item.key}\n\t\t\t\t\t\t\t\t\t\t\tdata-grid={item.data_grid}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\twidth: \"auto\",\n\t\t\t\t\t\t\t\t\t\t\t\tborder: \"1px solid #D3D3D3\",\n\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"10px 10px 10px 10px\",\n\t\t\t\t\t\t\t\t\t\t\t\theight: \"100px\", // To enable the chart responsive in height\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<MyBar\n\t\t\t\t\t\t\t\t\t\t\t\tdata={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey: item.key,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmain_chart_type:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.main_chart_type,\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: item.title,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataSet: item.dataSet,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdimension: item.dimension,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata_grid: item.data_grid,\n\t\t\t\t\t\t\t\t\t\t\t\t\tchosen_schema:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.chosen_schema,\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</ReactGridLayout>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</SizeMe>\n\t\t\t\t)}\n\t\t\t</Content>\n\t\t</Layout>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}