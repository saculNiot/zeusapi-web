{"ast":null,"code":"var _jsxFileName = \"/Users/gohshengyang/Documents/GitHub/zeusapi-web/src/pages/client/CreateClient.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { FillForm } from \"../../utils/components\";\nimport { FormLabel, Button as ChakraButton, Text } from \"@chakra-ui/react\";\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { Form, Input, message, Space } from \"antd\";\nimport { ClientRepo } from \"../../services/api/repositories/client_repo\";\nimport { LocalStorage } from \"../../utils/localStorage\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Client } from \"../../services/api/models/client_model\";\nimport { RoutePath } from \"../../utils/routePath\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const CreateClient = () => {\n  _s();\n\n  var _clientData$name, _clientData$attribute;\n\n  let location = useLocation();\n  let history = useHistory();\n  const locationState = location.state;\n  const [form] = Form.useForm();\n  const clientRepo = new ClientRepo();\n  const [_clientData, setClientData] = useState();\n  const [_isFormLoading, setFormLoading] = useState(true);\n\n  const children = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n      children: \"Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"name\",\n      rules: [{\n        required: true,\n        message: \"Please input the Client's name\"\n      }],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"Name\",\n        style: {\n          width: \"50%\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n        children: \"Attribute\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.List, {\n        name: \"attribute\",\n        children: (fields, {\n          add,\n          remove\n        }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [fields.map(({\n            key,\n            name,\n            ...restField\n          }) => /*#__PURE__*/_jsxDEV(Space, {\n            style: {\n              display: \"flex\",\n              marginBottom: 8\n            },\n            align: \"baseline\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, { ...restField,\n              name: [name, \"key\"],\n              rules: [{\n                required: true,\n                message: \"Missing attribute key\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Attribute Value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, { ...restField,\n              name: [name, \"value\"],\n              rules: [{\n                required: true,\n                message: \"Missing attribute value\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"Attribute value\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(MinusCircleOutlined, {\n              onClick: () => remove(name)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 10\n            }, this)]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 9\n          }, this)), /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(ChakraButton, {\n              variant: \"outline\",\n              onClick: () => add(),\n              leftIcon: /*#__PURE__*/_jsxDEV(PlusOutlined, {\n                color: \"blue.400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 20\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                color: \"blue.400\",\n                children: \"Add Attribute\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true);\n\n  const onSubmit = async values => {\n    let userId = await LocalStorage.getUserID();\n    console.log(values[\"attribute\"]);\n    let apiResult = await clientRepo.saveClient({\n      clientId: locationState !== undefined ? locationState.clientId : null,\n      createdById: userId !== null && userId !== void 0 ? userId : \"\",\n      name: values[\"name\"],\n      attribute: values[\"attribute\"]\n    });\n\n    if (apiResult.isSuccess) {\n      message.success(\"Client has saved\");\n      locationState !== undefined ? history.replace(RoutePath.dashboard) : form.resetFields();\n    } else {\n      message.error(\"Fail to save\");\n    }\n  };\n\n  useEffect(() => {\n    async function initState() {\n      if (locationState !== undefined) {\n        let apiResult = await clientRepo.getClientById({\n          clientId: locationState.clientId\n        });\n\n        if (apiResult.isSuccess) {\n          setClientData(new Client({\n            name: apiResult.data[0].name,\n            attribute: apiResult.data[0].attribute\n          }));\n        }\n      }\n\n      setFormLoading(false);\n    }\n\n    initState();\n    return () => {\n      setClientData(new Client({}));\n    };\n  }, []); // Set Initial Values Using State in antd form\n\n  useEffect(() => {\n    form.resetFields();\n  }, [_clientData]);\n  return /*#__PURE__*/_jsxDEV(FillForm, {\n    formComponents: children,\n    title: \"Client's Profile\",\n    subtitle: \"Please fill in the client's name and attributes\",\n    initialValue: {\n      name: (_clientData$name = _clientData === null || _clientData === void 0 ? void 0 : _clientData.name) !== null && _clientData$name !== void 0 ? _clientData$name : \"\",\n      attribute: (_clientData$attribute = _clientData === null || _clientData === void 0 ? void 0 : _clientData.attribute) !== null && _clientData$attribute !== void 0 ? _clientData$attribute : \"\"\n    },\n    form: form,\n    onSubmit: onSubmit,\n    isFormLoading: _isFormLoading,\n    children: \" \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 3\n  }, this);\n};\n\n_s(CreateClient, \"mYx+gAQO4nRkHXvZBNZqkI9WIqo=\", false, function () {\n  return [useLocation, useHistory, Form.useForm];\n});\n\n_c = CreateClient;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateClient\");","map":{"version":3,"sources":["/Users/gohshengyang/Documents/GitHub/zeusapi-web/src/pages/client/CreateClient.tsx"],"names":["React","useEffect","useState","FillForm","FormLabel","Button","ChakraButton","Text","MinusCircleOutlined","PlusOutlined","Form","Input","message","Space","ClientRepo","LocalStorage","useHistory","useLocation","Client","RoutePath","CreateClient","location","history","locationState","state","form","useForm","clientRepo","_clientData","setClientData","_isFormLoading","setFormLoading","children","required","width","fields","add","remove","map","key","name","restField","display","marginBottom","onSubmit","values","userId","getUserID","console","log","apiResult","saveClient","clientId","undefined","createdById","attribute","isSuccess","success","replace","dashboard","resetFields","error","initState","getClientById","data"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { FillForm } from \"../../utils/components\";\nimport { FormLabel, Button as ChakraButton, Text } from \"@chakra-ui/react\";\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { Form, Input, message, Space } from \"antd\";\nimport { ClientRepo } from \"../../services/api/repositories/client_repo\";\nimport { LocalStorage } from \"../../utils/localStorage\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Client } from \"../../services/api/models/client_model\";\nimport { RoutePath } from \"../../utils/routePath\";\n\nexport const CreateClient: React.FC<any> = () => {\n\tlet location = useLocation();\n\tlet history = useHistory();\n\tconst locationState: any = location.state;\n\tconst [form] = Form.useForm();\n\tconst clientRepo = new ClientRepo();\n\tconst [_clientData, setClientData] = useState<Client>();\n\tconst [_isFormLoading, setFormLoading] = useState<boolean>(true);\n\tconst children = (\n\t\t<>\n\t\t\t<FormLabel>Name</FormLabel>\n\t\t\t<Form.Item\n\t\t\t\tname=\"name\"\n\t\t\t\trules={[\n\t\t\t\t\t{\n\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\tmessage: \"Please input the Client's name\",\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Input placeholder=\"Name\" style={{ width: \"50%\" }} />\n\t\t\t</Form.Item>\n\t\t\t<>\n\t\t\t\t<FormLabel>Attribute</FormLabel>\n\t\t\t\t<Form.List name=\"attribute\">\n\t\t\t\t\t{(fields, { add, remove }) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{fields.map(({ key, name, ...restField }) => (\n\t\t\t\t\t\t\t\t<Space\n\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\tmarginBottom: 8,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\talign=\"baseline\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t{...restField}\n\t\t\t\t\t\t\t\t\t\tname={[name, \"key\"]}\n\t\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Missing attribute key\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"Attribute Value\" />\n\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t{...restField}\n\t\t\t\t\t\t\t\t\t\tname={[name, \"value\"]}\n\t\t\t\t\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Missing attribute value\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Input placeholder=\"Attribute value\" />\n\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t<MinusCircleOutlined\n\t\t\t\t\t\t\t\t\t\tonClick={() => remove(name)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Space>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<Form.Item>\n\t\t\t\t\t\t\t\t<ChakraButton\n\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\tonClick={() => add()}\n\t\t\t\t\t\t\t\t\tleftIcon={<PlusOutlined color=\"blue.400\" />}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Text color=\"blue.400\">Add Attribute</Text>\n\t\t\t\t\t\t\t\t</ChakraButton>\n\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</Form.List>\n\t\t\t</>\n\t\t</>\n\t);\n\n\tconst onSubmit = async (values: any) => {\n\t\tlet userId = await LocalStorage.getUserID();\n\t\tconsole.log(values[\"attribute\"]);\n\t\tlet apiResult = await clientRepo.saveClient({\n\t\t\tclientId:\n\t\t\t\tlocationState !== undefined ? locationState.clientId : null,\n\t\t\tcreatedById: userId ?? \"\",\n\t\t\tname: values[\"name\"],\n\t\t\tattribute: values[\"attribute\"],\n\t\t});\n\t\tif (apiResult.isSuccess) {\n\t\t\tmessage.success(\"Client has saved\");\n\t\t\tlocationState !== undefined\n\t\t\t\t? history.replace(RoutePath.dashboard)\n\t\t\t\t: form.resetFields();\n\t\t} else {\n\t\t\tmessage.error(\"Fail to save\");\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tasync function initState() {\n\t\t\tif (locationState !== undefined) {\n\t\t\t\tlet apiResult = await clientRepo.getClientById({\n\t\t\t\t\tclientId: locationState.clientId!,\n\t\t\t\t});\n\t\t\t\tif (apiResult.isSuccess) {\n\t\t\t\t\tsetClientData(\n\t\t\t\t\t\tnew Client({\n\t\t\t\t\t\t\tname: apiResult.data[0].name,\n\t\t\t\t\t\t\tattribute: apiResult.data[0].attribute,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetFormLoading(false);\n\t\t}\n\n\t\tinitState();\n\n\t\treturn () => {\n\t\t\tsetClientData(new Client({}));\n\t\t};\n\t}, []);\n\n\t// Set Initial Values Using State in antd form\n\tuseEffect(() => {\n\t\tform.resetFields();\n\t}, [_clientData]);\n\n\treturn (\n\t\t<FillForm\n\t\t\tformComponents={children}\n\t\t\ttitle={\"Client's Profile\"}\n\t\t\tsubtitle={\"Please fill in the client's name and attributes\"}\n\t\t\tinitialValue={{\n\t\t\t\tname: _clientData?.name ?? \"\",\n\t\t\t\tattribute: _clientData?.attribute ?? \"\",\n\t\t\t}}\n\t\t\tform={form}\n\t\t\tonSubmit={onSubmit}\n\t\t\tisFormLoading={_isFormLoading}\n\t\t>\n\t\t\t{\" \"}\n\t\t</FillForm>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}