{"ast":null,"code":"var _jsxFileName = \"/Users/gohshengyang/Documents/GitHub/codagence-web/src/pages/dashboard/MainDashboard.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Layout, Menu, Typography, Row, Col, List, Avatar, message, Skeleton, Popconfirm, Spin } from \"antd\";\nimport \"./MainDashboard.less\";\nimport codagenceWordLogo from \"../../assets/logo/Codagence_main_logo.png\";\nimport { RoutePath } from \"../../utils/routePath\";\nimport { AuthContext } from \"../../utils/AuthContext\";\nimport { LocalStorage } from \"../../utils/localStorage\";\nimport { FirebaseServices } from \"../../utils/firebaseServices\";\nimport { PaymentRepo } from \"../../services/api/repositories/payment_repo\";\nimport { UserRepo } from \"../../services/api/repositories/user_repo\";\nimport { CopyOutlined, CopyTwoTone, DeleteOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\nimport { UrlRepo } from \"../../services/api/repositories/url_repo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  SubMenu\n} = Menu;\nconst {\n  Header\n} = Layout;\nconst {\n  Title\n} = Typography;\nexport const MainDashboard = () => {\n  _s();\n\n  let userRepo = new UserRepo();\n  let urlRepo = new UrlRepo();\n  let history = useHistory(); // Get current sign in User\n\n  const user = useContext(AuthContext); // Handle the state of each option in Menu bar\n\n  const [_selectedKey, setSelectedKeys] = useState(\"\");\n  const [_nickname, setNickname] = useState(\"\");\n  const [_userApiId, setUserApiId] = useState(\"\");\n  const [_urls, setUrls] = useState([]);\n  const [_listLoading, setListLoading] = useState(true);\n\n  async function getUrls() {\n    let userId = await LocalStorage.getUserID();\n    let apiResult = await urlRepo.getAllUserUrlByUserId({\n      userId: userId\n    });\n\n    if (apiResult.isSuccess) {\n      if (apiResult.data.length > 0) apiResult.data.forEach(element => {\n        setUrls(prevState => {\n          return [...prevState, element];\n        });\n      });\n    }\n\n    setListLoading(false);\n  }\n\n  useEffect(() => {\n    async function initState() {\n      var _await$LocalStorage$g;\n\n      let userId = await LocalStorage.getUserID();\n      let apiResult = await userRepo.getUserById({\n        userId: userId\n      });\n\n      if (apiResult.isSuccess) {\n        var _usermodel$email, _usermodel$nickname, _usermodel$packagePla, _usermodel$userApiId;\n\n        let usermodel = apiResult.data[0];\n        await LocalStorage.setEmail((_usermodel$email = usermodel === null || usermodel === void 0 ? void 0 : usermodel.email) !== null && _usermodel$email !== void 0 ? _usermodel$email : \"\");\n        await LocalStorage.setNickName((_usermodel$nickname = usermodel === null || usermodel === void 0 ? void 0 : usermodel.nickname) !== null && _usermodel$nickname !== void 0 ? _usermodel$nickname : \"\");\n        await LocalStorage.setPackagePlan((_usermodel$packagePla = usermodel === null || usermodel === void 0 ? void 0 : usermodel.packagePlan) !== null && _usermodel$packagePla !== void 0 ? _usermodel$packagePla : \"free\");\n        setUserApiId((_usermodel$userApiId = usermodel === null || usermodel === void 0 ? void 0 : usermodel.userApiId) !== null && _usermodel$userApiId !== void 0 ? _usermodel$userApiId : \"\");\n      } // Set the state of nickname with the value retrieved from localstorage\n\n\n      setNickname((_await$LocalStorage$g = await LocalStorage.getNickname()) !== null && _await$LocalStorage$g !== void 0 ? _await$LocalStorage$g : \"\");\n    }\n\n    initState();\n    getUrls();\n  }, []);\n\n  async function handleClickOnMenuBar(e) {\n    setSelectedKeys(e.key);\n\n    switch (e.key) {\n      case \"logout\":\n        await FirebaseServices.signOut(); // Clear local storage\n\n        await LocalStorage.resetStorage();\n        break;\n\n      case \"profile\":\n        history.push(RoutePath.user_profile);\n        break;\n\n      case \"reset_password\":\n        history.push(RoutePath.reset_password);\n        break;\n\n      case \"billing\":\n        // Call api to get the payment session url\n        let userId = await LocalStorage.getUserID();\n        let email = await LocalStorage.getEmail();\n        let paymentRepo = new PaymentRepo();\n        let apiResult = await paymentRepo.getCustomerPortalSessionUrl({\n          userId: userId,\n          email: email\n        });\n\n        if (apiResult.isSuccess) {\n          // Proceed to checkout page if seesion url is retreived\n          // Replace the history\n          window.location.replace(apiResult.data[0].sessionUrl);\n        } else {\n          alert(apiResult.message);\n        }\n\n        break;\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    className: \"home_layout\",\n    style: {\n      overflow: \"auto\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      className: \"home_content\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        id: \"CaramelAnalytic\",\n        className: \"navbar\",\n        style: {\n          backgroundColor: \"#fff\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 3,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                width: \"130px\",\n                height: \"25px\"\n              },\n              src: codagenceWordLogo,\n              alt: \"Codagence Logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 21,\n            children: /*#__PURE__*/_jsxDEV(Menu, {\n              theme: \"light\",\n              onClick: handleClickOnMenuBar,\n              selectedKeys: [_selectedKey],\n              mode: \"horizontal\",\n              defaultSelectedKeys: [_selectedKey],\n              children: user === null ? /*#__PURE__*/_jsxDEV(Menu.Item, {\n                children: \"Login/Register\"\n              }, \"login\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 10\n              }, this) : /*#__PURE__*/_jsxDEV(SubMenu, {\n                title: `Hi, ${_nickname}`,\n                children: /*#__PURE__*/_jsxDEV(Menu.ItemGroup, {\n                  title: \"Account\",\n                  children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n                    children: \"Profile\"\n                  }, \"profile\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n                    children: \"Reset Password\"\n                  }, \"reset_password\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n                    children: \"Billing\"\n                  }, \"billing\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 12\n                  }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n                    children: \"Log Out\"\n                  }, \"logout\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 12\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 11\n                }, this)\n              }, \"SubMenu\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Layout, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"dashboard_row\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            xs: 24,\n            xl: 6,\n            className: \"dashboard_col\",\n            span: 6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 24,\n            xl: 12,\n            className: \"dashboard_col\",\n            span: 12,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              shape: \"round\",\n              icon: /*#__PURE__*/_jsxDEV(PlusCircleOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 15\n              }, this),\n              size: \"large\",\n              onClick: () => {\n                history.push({\n                  pathname: RoutePath.fill_url,\n                  state: {\n                    userApiId: _userApiId\n                  }\n                });\n              },\n              children: \"Add Url\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"20px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 8\n            }, this), // To check if the userAPIId is loaded\n            _userApiId === \"\" || _userApiId === undefined ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Spin, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 10\n            }, this) : /*#__PURE__*/_jsxDEV(Row, {\n              className: \"userApiId\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 20,\n                xl: 20,\n                span: 20,\n                children: /*#__PURE__*/_jsxDEV(Title, {\n                  level: 4,\n                  children: \"Your API ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 4,\n                xl: 4,\n                span: 4,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  shape: \"round\",\n                  icon: /*#__PURE__*/_jsxDEV(CopyOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 19\n                  }, this),\n                  size: \"large\",\n                  onClick: () => {\n                    navigator.clipboard.writeText(_userApiId !== null && _userApiId !== void 0 ? _userApiId : \"\");\n                    message.success(\"API ID is copied\");\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"20px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n              active: true,\n              loading: _listLoading,\n              children: [/*#__PURE__*/_jsxDEV(List, {\n                itemLayout: \"horizontal\",\n                dataSource: _urls,\n                renderItem: (item, index) => /*#__PURE__*/_jsxDEV(List.Item, {\n                  actions: [/*#__PURE__*/_jsxDEV(Button, {\n                    shape: \"round\",\n                    icon: /*#__PURE__*/_jsxDEV(CopyTwoTone, {\n                      twoToneColor: \"#270949\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 15\n                    }, this),\n                    size: \"large\",\n                    onClick: () => {\n                      var _item$apiKey;\n\n                      navigator.clipboard.writeText((_item$apiKey = item.apiKey) !== null && _item$apiKey !== void 0 ? _item$apiKey : \"\");\n                      message.success(\"Api key is copied\");\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 13\n                  }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n                    title: \"Are you sure you want to delete?\",\n                    onConfirm: async () => {\n                      let apiResult = await urlRepo.deleteUrl({\n                        urlId: item.urlId\n                      });\n\n                      if (apiResult.isSuccess) {\n                        setListLoading(true);\n                        setUrls([]);\n                        getUrls();\n                        message.success(\"Delete success\");\n                      } else {\n                        message.success(\"Delete Fail\");\n                      }\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      shape: \"round\",\n                      icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {\n                        style: {\n                          color: \"red\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 16\n                      }, this),\n                      size: \"large\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 310,\n                      columnNumber: 14\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 13\n                  }, this)],\n                  children: /*#__PURE__*/_jsxDEV(List.Item.Meta, {\n                    avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n                      src: `https://picsum.photos/200/300?random=${index}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 326,\n                      columnNumber: 14\n                    }, this),\n                    title: /*#__PURE__*/_jsxDEV(\"a\", {\n                      onClick: () => {\n                        history.push({\n                          pathname: RoutePath.graph_editor,\n                          state: {\n                            apiKey: item.apiKey,\n                            userApiId: _userApiId\n                          }\n                        });\n                      },\n                      children: item.url\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 14\n                    }, this),\n                    description: `Api Key: ${item.apiKey}`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 9\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 24,\n            xl: 12,\n            className: \"dashboard_col\",\n            span: 6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 3\n  }, this);\n};\n\n_s(MainDashboard, \"vjDO37oZPXalFhZpoBdCbdqlftk=\", false, function () {\n  return [useHistory];\n});\n\n_c = MainDashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainDashboard\");","map":{"version":3,"sources":["/Users/gohshengyang/Documents/GitHub/codagence-web/src/pages/dashboard/MainDashboard.tsx"],"names":["React","useContext","useEffect","useState","useHistory","Button","Layout","Menu","Typography","Row","Col","List","Avatar","message","Skeleton","Popconfirm","Spin","codagenceWordLogo","RoutePath","AuthContext","LocalStorage","FirebaseServices","PaymentRepo","UserRepo","CopyOutlined","CopyTwoTone","DeleteOutlined","PlusCircleOutlined","UrlRepo","SubMenu","Header","Title","MainDashboard","userRepo","urlRepo","history","user","_selectedKey","setSelectedKeys","_nickname","setNickname","_userApiId","setUserApiId","_urls","setUrls","_listLoading","setListLoading","getUrls","userId","getUserID","apiResult","getAllUserUrlByUserId","isSuccess","data","length","forEach","element","prevState","initState","getUserById","usermodel","setEmail","email","setNickName","nickname","setPackagePlan","packagePlan","userApiId","getNickname","handleClickOnMenuBar","e","key","signOut","resetStorage","push","user_profile","reset_password","getEmail","paymentRepo","getCustomerPortalSessionUrl","window","location","replace","sessionUrl","alert","overflow","backgroundColor","width","height","pathname","fill_url","state","undefined","navigator","clipboard","writeText","success","item","index","apiKey","deleteUrl","urlId","color","graph_editor","url"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport {\n\tButton,\n\tLayout,\n\tMenu,\n\tTypography,\n\tRow,\n\tCol,\n\tSpace,\n\tDivider,\n\tCard,\n\tList,\n\tAvatar,\n\tmessage,\n\tSkeleton,\n\tPopconfirm,\n\tSpin,\n} from \"antd\";\nimport \"./MainDashboard.less\";\nimport codagenceWordLogo from \"../../assets/logo/Codagence_main_logo.png\";\nimport { RoutePath } from \"../../utils/routePath\";\nimport { AuthContext } from \"../../utils/AuthContext\";\nimport { LocalStorage } from \"../../utils/localStorage\";\nimport { FirebaseServices } from \"../../utils/firebaseServices\";\nimport { PricingCards } from \"../../utils/components\";\nimport { PaymentRepo } from \"../../services/api/repositories/payment_repo\";\nimport { UserRepo } from \"../../services/api/repositories/user_repo\";\nimport { User } from \"../../services/api/models/user_model\";\nimport Meta from \"antd/lib/card/Meta\";\nimport {\n\tCopyOutlined,\n\tCopyTwoTone,\n\tDeleteOutlined,\n\tEyeInvisibleOutlined,\n\tPlusCircleOutlined,\n} from \"@ant-design/icons\";\nimport { UserUrl } from \"../../services/api/models/url_model\";\nimport { UrlRepo } from \"../../services/api/repositories/url_repo\";\n\nconst { SubMenu } = Menu;\nconst { Header } = Layout;\nconst { Title } = Typography;\n\nexport const MainDashboard: React.FC<any> = () => {\n\tlet userRepo = new UserRepo();\n\n\tlet urlRepo = new UrlRepo();\n\n\tlet history = useHistory();\n\n\t// Get current sign in User\n\tconst user = useContext(AuthContext);\n\n\t// Handle the state of each option in Menu bar\n\tconst [_selectedKey, setSelectedKeys] = useState<string>(\"\");\n\n\tconst [_nickname, setNickname] = useState<string>(\"\");\n\n\tconst [_userApiId, setUserApiId] = useState<string>(\"\");\n\n\tconst [_urls, setUrls] = useState<Array<UserUrl>>([]);\n\n\tconst [_listLoading, setListLoading] = useState<boolean>(true);\n\n\tasync function getUrls() {\n\t\tlet userId = await LocalStorage.getUserID();\n\t\tlet apiResult = await urlRepo.getAllUserUrlByUserId({\n\t\t\tuserId: userId!,\n\t\t});\n\n\t\tif (apiResult.isSuccess) {\n\t\t\tif (apiResult.data.length > 0)\n\t\t\t\tapiResult.data.forEach((element: UserUrl) => {\n\t\t\t\t\tsetUrls((prevState) => {\n\t\t\t\t\t\treturn [...prevState, element];\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\tsetListLoading(false);\n\t}\n\n\tuseEffect(() => {\n\t\tasync function initState() {\n\t\t\tlet userId = await LocalStorage.getUserID();\n\t\t\tlet apiResult = await userRepo.getUserById({\n\t\t\t\tuserId: userId!,\n\t\t\t});\n\t\t\tif (apiResult.isSuccess) {\n\t\t\t\tlet usermodel: User = apiResult.data[0];\n\t\t\t\tawait LocalStorage.setEmail(usermodel?.email ?? \"\");\n\t\t\t\tawait LocalStorage.setNickName(usermodel?.nickname ?? \"\");\n\t\t\t\tawait LocalStorage.setPackagePlan(\n\t\t\t\t\tusermodel?.packagePlan ?? \"free\"\n\t\t\t\t);\n\t\t\t\tsetUserApiId(usermodel?.userApiId ?? \"\");\n\t\t\t}\n\t\t\t// Set the state of nickname with the value retrieved from localstorage\n\t\t\tsetNickname((await LocalStorage.getNickname()) ?? \"\");\n\t\t}\n\n\t\tinitState();\n\t\tgetUrls();\n\t}, []);\n\n\tasync function handleClickOnMenuBar(this: any, e: any) {\n\t\tsetSelectedKeys(e.key);\n\t\tswitch (e.key) {\n\t\t\tcase \"logout\":\n\t\t\t\tawait FirebaseServices.signOut();\n\t\t\t\t// Clear local storage\n\t\t\t\tawait LocalStorage.resetStorage();\n\n\t\t\t\tbreak;\n\t\t\tcase \"profile\":\n\t\t\t\thistory.push(RoutePath.user_profile);\n\n\t\t\t\tbreak;\n\t\t\tcase \"reset_password\":\n\t\t\t\thistory.push(RoutePath.reset_password);\n\n\t\t\t\tbreak;\n\t\t\tcase \"billing\":\n\t\t\t\t// Call api to get the payment session url\n\t\t\t\tlet userId = await LocalStorage.getUserID();\n\t\t\t\tlet email = await LocalStorage.getEmail();\n\n\t\t\t\tlet paymentRepo = new PaymentRepo();\n\t\t\t\tlet apiResult = await paymentRepo.getCustomerPortalSessionUrl({\n\t\t\t\t\tuserId: userId!,\n\t\t\t\t\temail: email!,\n\t\t\t\t});\n\n\t\t\t\tif (apiResult.isSuccess) {\n\t\t\t\t\t// Proceed to checkout page if seesion url is retreived\n\t\t\t\t\t// Replace the history\n\t\t\t\t\twindow.location.replace(apiResult.data[0].sessionUrl);\n\t\t\t\t} else {\n\t\t\t\t\talert(apiResult.message);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn (\n\t\t<Layout className=\"home_layout\" style={{ overflow: \"auto\" }}>\n\t\t\t<Layout className=\"home_content\">\n\t\t\t\t<Header\n\t\t\t\t\tid=\"CaramelAnalytic\"\n\t\t\t\t\tclassName=\"navbar\"\n\t\t\t\t\tstyle={{ backgroundColor: \"#fff\" }}\n\t\t\t\t>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col span={3}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tstyle={{ width: \"130px\", height: \"25px\" }}\n\t\t\t\t\t\t\t\tsrc={codagenceWordLogo}\n\t\t\t\t\t\t\t\talt=\"Codagence Logo\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={21}>\n\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\ttheme=\"light\"\n\t\t\t\t\t\t\t\tonClick={handleClickOnMenuBar}\n\t\t\t\t\t\t\t\tselectedKeys={[_selectedKey]}\n\t\t\t\t\t\t\t\tmode=\"horizontal\"\n\t\t\t\t\t\t\t\tdefaultSelectedKeys={[_selectedKey]}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{user === null ? (\n\t\t\t\t\t\t\t\t\t<Menu.Item key=\"login\">\n\t\t\t\t\t\t\t\t\t\tLogin/Register\n\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<SubMenu\n\t\t\t\t\t\t\t\t\t\tkey=\"SubMenu\"\n\t\t\t\t\t\t\t\t\t\ttitle={`Hi, ${_nickname}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Menu.ItemGroup title=\"Account\">\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"profile\">\n\t\t\t\t\t\t\t\t\t\t\t\tProfile\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"reset_password\">\n\t\t\t\t\t\t\t\t\t\t\t\tReset Password\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"billing\">\n\t\t\t\t\t\t\t\t\t\t\t\tBilling\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"logout\">\n\t\t\t\t\t\t\t\t\t\t\t\tLog Out\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\n\t\t\t\t\t\t\t\t\t\t</Menu.ItemGroup>\n\t\t\t\t\t\t\t\t\t</SubMenu>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Header>\n\t\t\t\t<Layout>\n\t\t\t\t\t<Row className=\"dashboard_row\">\n\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\txs={24}\n\t\t\t\t\t\t\txl={6}\n\t\t\t\t\t\t\tclassName=\"dashboard_col\"\n\t\t\t\t\t\t\tspan={6}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\txs={24}\n\t\t\t\t\t\t\txl={12}\n\t\t\t\t\t\t\tclassName=\"dashboard_col\"\n\t\t\t\t\t\t\tspan={12}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\tshape=\"round\"\n\t\t\t\t\t\t\t\ticon={<PlusCircleOutlined />}\n\t\t\t\t\t\t\t\tsize={\"large\"}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thistory.push({\n\t\t\t\t\t\t\t\t\t\tpathname: RoutePath.fill_url,\n\t\t\t\t\t\t\t\t\t\tstate: { userApiId: _userApiId },\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAdd Url\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<div style={{ height: \"20px\" }}></div>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// To check if the userAPIId is loaded\n\t\t\t\t\t\t\t\t_userApiId === \"\" ||\n\t\t\t\t\t\t\t\t_userApiId === undefined ? (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<Spin />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Row className=\"userApiId\">\n\t\t\t\t\t\t\t\t\t\t<Col xs={20} xl={20} span={20}>\n\t\t\t\t\t\t\t\t\t\t\t<Title level={4}>Your API ID</Title>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col xs={4} xl={4} span={4}>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tshape=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\ticon={<CopyOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\tsize={\"large\"}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_userApiId ?? \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.success(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"API ID is copied\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<div style={{ height: \"20px\" }}></div>\n\t\t\t\t\t\t\t<Skeleton active loading={_listLoading}>\n\t\t\t\t\t\t\t\t<List\n\t\t\t\t\t\t\t\t\titemLayout=\"horizontal\"\n\t\t\t\t\t\t\t\t\tdataSource={_urls}\n\t\t\t\t\t\t\t\t\trenderItem={(item, index) => (\n\t\t\t\t\t\t\t\t\t\t<List.Item\n\t\t\t\t\t\t\t\t\t\t\tactions={[\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tshape=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CopyTwoTone twoToneColor=\"#270949\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize={\"large\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnavigator.clipboard.writeText(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.apiKey ?? \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.success(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Api key is copied\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t\t\t\t\t\t<Popconfirm\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle=\"Are you sure you want to delete?\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonConfirm={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet apiResult =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait urlRepo.deleteUrl(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turlId: item.urlId!,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tapiResult.isSuccess\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetListLoading(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetUrls([]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetUrls();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.success(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Delete success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage.success(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Delete Fail\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshape=\"round\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"red\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={\"large\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Popconfirm>,\n\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<List.Item.Meta\n\t\t\t\t\t\t\t\t\t\t\t\tavatar={\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={`https://picsum.photos/200/300?random=${index}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a onClick={()=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thistory.push({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: RoutePath.graph_editor,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tapiKey: item.apiKey,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserApiId: _userApiId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.url}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tdescription={`Api Key: ${item.apiKey}`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</List.Item>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>{\" \"}\n\t\t\t\t\t\t\t</Skeleton>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\txs={24}\n\t\t\t\t\t\t\txl={12}\n\t\t\t\t\t\t\tclassName=\"dashboard_col\"\n\t\t\t\t\t\t\tspan={6}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Row>\n\t\t\t\t</Layout>\n\t\t\t</Layout>\n\t\t</Layout>\n\t);\n};\n"]},"metadata":{},"sourceType":"module"}